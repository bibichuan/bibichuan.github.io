<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Docker常见错误及解决方法二</title>
    <!-- 页面描述 -->
<meta name="description" content=""/>
<!-- 页面关键词 -->
<meta name="keywords" content=""/>
<!-- 网页作者 -->
<meta name="author" content="bibichuan, ibibichuan@gmail.com"/>
<!-- 搜索引擎抓取 -->
<meta name="robots" content="index,follow"/>

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>

<!--禁止百度转码-->
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<!--启用WebApp全屏模式-->
<meta name="apple-mobile-web-app-capable" content="yes" />
<!--禁止数字自动识别为电话号码-->
<meta name="format-detection" content="telephone=no" />
<!--忽略识别邮箱-->
<meta name="format-detection" content="email=no" />
<!--360强制谷歌内核-->
<meta name="renderer" content="webkit"> 

<link rel="icon" href="/images/favicon.ico">

<link rel="stylesheet" href="//at.alicdn.com/t/font_1022896_nclaqhxyt.css">

<link href="/css/main.css" rel="stylesheet" type="text/css" />

<!-- 谷歌广告 -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8382618401389723"></script>


<script type="text/javascript" id="hexo.configurations">
  var BTheme = window.BTheme ||{};
  var CONFIG = {
    root: '/'
  };
</script>

<!--百度统计-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ee4ff785c4c68fa9a0ea17241e0574ea";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<!--谷歌统计-->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G4HPTST8XX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-G4HPTST8XX');
</script>

    
    
        
    
        
            
            
            <link href="/lib/layui/css/layui.css" rel="stylesheet" type="text/css" />
        
    

    
        
    

    
        
    


    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.6/dist/jquery.fancybox.min.css" />
<link rel="stylesheet" type="text/css" href="/lib/share/style/css/ishare.css">

<meta name="generator" content="Hexo 5.4.2"></head>
<body class="main">

    <header id="header" class="header layui-fluid">
        <div class="header-inner layui-row"><div class="header-wrap">
    <div class="logo_wrap">
        <a href="/"><img src="/images/logo.png"></a>
    </div>
    <div class='search-warp'>
  <div class="search">
    <input class="search-ipt" placeholder="请输入搜索内容"/>
    <div class="search-btn clear"><i class="iconfont icon-guanbi"></i></div>
    <div class="search-btn find"><i class="iconfont icon-sousuo"></i></div>
  </div>
  <div class="result">
    <ul class="result-content"></ul>
  </div>
</div>
    <div class="icon-menu"><i class="iconfont icon-m_menu"></i></div>
    <nav class="site-nav">
        <ul class="menu layui-nav">
            
            
            <li class="menu-item layui-nav-item">
                <a href="/" rel="section">
                    <i class="iconfont icon-home"></i>首页<i class="iconfont icon-header-mobile icon-right"></i>
                </a>
            </li>
            
            

            
            

            
            
                
                
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/%E6%9D%82%E6%96%87/">
                                    杂文
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/Python/">
                                    Python
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/Gis/">
                                    Gis
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/Asp/">
                                    Asp
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/%E8%BD%AF%E4%BB%B6/">
                                    软件
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                
                <li class="more menu-item layui-nav-item">
                    
                    <a href="javascript:;" class="menu-more">
                        更多分类
                        <i class="iconfont icon-header-mobile icon-sidemenu"></i>
                    </a>
                    
                    <dl class="layui-nav-child">
                        
                            
                            
                        
                            
                            
                        
                            
                            
                        
                            
                            
                        
                            
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/Java/">
                                            Java
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E5%89%8D%E7%AB%AF/">
                                            前端
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/Javascript/">
                                            Javascript
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                                            数据库
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                                            操作系统
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/Nodejs/">
                                            Nodejs
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">
                                            大数据
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E5%90%8E%E5%8F%B0%E6%9C%8D%E5%8A%A1/">
                                            后台服务
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E9%9A%8F%E7%AC%94/">
                                            随笔
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
                                            机器学习
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E5%85%B6%E4%BB%96/">
                                            其他
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                    </dl>
                </li>
            
        </ul>
    </nav>
</div></div>
    </header>
    
    <main class="main-content layui-fluid" id="main-content">
      <div class="main-inner">
        
  <div class="layui-row layui-col-space15">
    <div class="layui-col-xs12 layui-col-sm10 layui-col-sm-offset1 layui-col-md6 layui-col-md-offset2 layui-col-lg6 layui-col-lg-offset2">
        <div class="container post_wrap">
          <div class="post">
            <div class="article">
              <h1 class="title">Docker常见错误及解决方法二</h1>
              <div class="author">
                <span class="tag">标签：
                  

                  
                    
                    
                      
                      
                      <a href="/tags/Docker/">Docker</a>
                    
                  
                </span>
                <span class="tag">分类：
                  

                  
                    
                    
                      
                      
                      <a href="/categories/%E8%BD%AF%E4%BB%B6/">软件</a>
                    
                  
                </span>
                <span class='tag'>
                  创建时间：2021-07-05 07:34:38
                </span>
                <span class='tag'>
                  更新时间：2025-04-28 14:37:40
                </span>
              </div>
              <div class="content">
                <html><head></head><body><h2 id="1-The-process-cannot-access-the-file-because-it-is-being-used-by-another-process"><a href="#1-The-process-cannot-access-the-file-because-it-is-being-used-by-another-process" class="headerlink" title="1.The process cannot access the file because it is being used by another process."></a>1.The process cannot access the file because it is being used by another process.</h2><p>在进行docker进行导出的时候，出现了这个问题,但是我不知道哪里还在用。</p>
<img src="/images/loadimg.png" data-original="/posts/31d0296a/err_1.png" lay-src="/posts/31d0296a/err_1.png" class="" title="docker错误">

<p>【解决方法】<br>其实真正的解决方法，我没找到，我只是放弃了使用save命令，改为了使用export命令。导出的时候，最好把容器停止掉，防止有问题。</p>
<h2 id="2-response-from-daemon-Error-processing-tar-file-exit-status-1-archive-tar-invalid-tar-header"><a href="#2-response-from-daemon-Error-processing-tar-file-exit-status-1-archive-tar-invalid-tar-header" class="headerlink" title="2.response from daemon: Error processing tar file(exit status 1): archive/tar: invalid tar header"></a>2.response from daemon: Error processing tar file(exit status 1): archive/tar: invalid tar header</h2><p>使用docker export导出，使用docker import导入的时候，出现了问题</p>
<img src="/images/loadimg.png" data-original="/posts/31d0296a/err_2.png" lay-src="/posts/31d0296a/err_2.png" class="" title="docker错误">

<p>【解决方法】<br>在导出的时候，windows上，增加 -o 参数进行导出</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 错误</span></span><br><span class="line">docker <span class="built_in">export</span> f377314ce10d xxx.tar</span><br><span class="line"><span class="comment">## 正确</span></span><br><span class="line">docker <span class="built_in">export</span> f377314ce10d -o xxx.tar</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/40622162/docker-load-and-save-archive-tar-invalid-tar-header">Docker load and save: “archive/tar: invalid tar header”</a> I wanted to add that the issue probably occurs because of the difference in behaviour of STDOUT between Windows and Unix. Therefore, using the STDOUT way of saving like: docker save [image] &gt; file.tar followed by docker load &lt; file.tarwill not work if the save and load are executed on a different OS. Always use: docker save [image] -o file.tar followed by docker load -i file.tar<br>2.<a target="_blank" rel="noopener" href="https://github.com/docker/for-win/issues/660">Archive/tar: invalid tar header message when export or import</a><br>3.<a target="_blank" rel="noopener" href="http://zouliming.cn/2019/04/03/docker-%E5%AF%BC%E5%85%A5%E9%95%9C%E5%83%8F%E6%97%B6%E6%8F%90%E7%A4%BAerror-processing-tar-fileexit-status-1-archivetar-invalid-tar-header/">docker 导入镜像时提示Error processing tar file(exit status 1): archive/tar: invalid tar header</a> 这个是windows系统的powershell的bug，解决的方法很简单，在export 的时候，加一个 -o 参数，docker export f377314ce10d -o xxx.tar</div>
<h2 id="3-重新启动容器环境变量失效问题"><a href="#3-重新启动容器环境变量失效问题" class="headerlink" title="3.重新启动容器环境变量失效问题"></a>3.重新启动容器环境变量失效问题</h2><p>【解决方法】</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 编辑.bashrc文件</span></span><br><span class="line">vi /root/.bashrc</span><br><span class="line"><span class="comment">## 添加读取配置文件的命令</span></span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章：<br>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/dongdong9223/article/details/81094657">docker重新进入容器时“/etc/profile”中环境变量失效问题的解决</a><br>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/yaomingyang/article/details/103583104">Docker学习笔记：docker重新进入容器时“/etc/profile”中环境变零失效问题解决</a> 在/root/.bashrc文件中添加 source /etc/profile</div>
<h2 id="4-容器时间和宿主机时间不一致问题"><a href="#4-容器时间和宿主机时间不一致问题" class="headerlink" title="4.容器时间和宿主机时间不一致问题"></a>4.容器时间和宿主机时间不一致问题</h2><p>【解决方法】</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 进入配置</span></span><br><span class="line"><span class="built_in">cd</span> /etc/  </span><br><span class="line"><span class="comment">## 备份文件</span></span><br><span class="line"><span class="built_in">mv</span> localtime localtime_bak</span><br><span class="line"><span class="comment">## 拷贝时间配置</span></span><br><span class="line"><span class="built_in">cp</span> /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br><span class="line"><span class="comment">## 输出时区</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Asia/shanghai"</span> &gt; /etc/timezone;</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.huaweicloud.com/articles/c4a8fd83c08110ec987d0d9c2923bef1.html">修改Docker容器的时间和宿主时间一致</a> cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime<br>2.<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000023624052">Docker容器时间如何与宿主机同步问题解决方案小结</a> 宿主机设置了时区，而Docker容器并没有设置，导致两者相差8小时。解决方案：docker run 添加时间参数；Dockerfile设置；docker-compose配置；宿主机直接执行命令给某个容器同步时间</div>
<h2 id="5-Error-response-from-daemon-No-command-specified"><a href="#5-Error-response-from-daemon-No-command-specified" class="headerlink" title="5.Error response from daemon: No command specified"></a>5.Error response from daemon: No command specified</h2><p>导入一个镜像后，然后运行 docker run ,无法启动容器，出现了这个问题：</p>
<img src="/images/loadimg.png" data-original="/posts/31d0296a/err_3.png" lay-src="/posts/31d0296a/err_3.png" class="" title="docker错误">

<p>【解决方法】<br>解决方法，主要就是添加一个 /usr/sbin/init 启动脚本</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 错误的启动方法</span></span><br><span class="line">docker run -itd --privileged --name springboot 83c13bd478f8</span><br><span class="line"><span class="comment">## 添加命令行</span></span><br><span class="line">docker run -itd --privileged --name springboot 83c13bd478f8 /usr/sbin/init</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/shenghuiping2001/article/details/93378185">docker创建容器命令时：Error response from daemon: No command specified</a><br>2.<a target="_blank" rel="noopener" href="https://bbs.csdn.net/topics/392337000">docker export导出的镜像 import后不能run</a><br>3.<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44705683/article/details/104243049">docker export import，导入镜像后，启动时报错误“Error response from daemon: No command specified” 的处理</a> 需要带command，可以在原来的容器所在主机上执行docker ps查看到，如果command比较复杂，还是使用docker save –&gt; load –&gt; 启动 的方式好了，这种方式启动就不必带command<br>4.<a target="_blank" rel="noopener" href="https://www.php.cn/docker/446394.html">docker import后运行不起来</a> 注意：导入的容器需要重新指定工作目录和开放的端口以及启动命令</div>
<h2 id="6-WARNING-No-blkio-throttle-read-bps-device-support"><a href="#6-WARNING-No-blkio-throttle-read-bps-device-support" class="headerlink" title="6.WARNING: No blkio throttle.read_bps_device support"></a>6.WARNING: No blkio throttle.read_bps_device support</h2><p>这是在windos10上安装docker，运行 docker info 命令之后，最后显示的警告。 </p>
<figure class="highlight txt"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">WARNING: No blkio throttle.read_bps_device support</span><br><span class="line">WARNING: No blkio throttle.write_bps_device support</span><br><span class="line">WARNING: No blkio throttle.read_iops_device support</span><br><span class="line">WARNING: No blkio throttle.write_iops_device support</span><br><span class="line">WARNING: bridge-nf-call-iptables is disabled</span><br><span class="line">WARNING: bridge-nf-call-ip6tables is disabled</span><br></pre></td></tr></tbody></table></figure>

<p>这个可能是由于什么限制，我暂时没有管，不影响使用。</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.cnblogs.com/guliang-jieguo/p/14766536.html">Win10 中 Docker 的安装与镜像加速（Docker Desktop for Windows）</a> 对于弹出的WARNING警告：WARNING: No blkio throttle.write_iops_device support 新手可以暂时忽略<br>2.<a target="_blank" rel="noopener" href="https://phpor.net/blog/post/4009">PHPor 的Blog DevOps</a> 较旧的docker版本不支持设置这些，但是，只要你的内核支持上面这些，就可以直接修改cgroup实现。</div>
<h2 id="7-vmmem进程占用内存过高"><a href="#7-vmmem进程占用内存过高" class="headerlink" title="7.vmmem进程占用内存过高"></a>7.vmmem进程占用内存过高</h2><p>这个主要就是在windows10上安装了Docker，只要是一启动Docker，就会疯狂的占用内存，如果是在容器里面进行编译starrocks，内存能达到十一二G(16G的系统内存)，这个时候关掉Docker Desktop也不起作用，停止镜像也不起作用。</p>
<p>【解决】</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 打开powershell，输入</span></span><br><span class="line">wsl --shutdown</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/vandavidchou/article/details/117143614">vmmem 进程占用CPU资源的解决办法</a></div>
<h2 id="8-dockerfile中的volume不起作用"><a href="#8-dockerfile中的volume不起作用" class="headerlink" title="8.dockerfile中的volume不起作用"></a>8.dockerfile中的volume不起作用</h2><p>Dockerfile 是拿来构建自定义镜像的，并没有直接生成容器。只是可以在运行镜像时运行容器而已。做容器编排以部署环境，是使用 docker-compose.yml 文件进行的，里面可能会需要用到 Dockerfile 。我这里遇到的问题，就是在使用docker-compose启动时，只有在docker-compose.yml中定义的volumes有用，但是在dockerfile中指定的volume就不起作用了。</p>
<p>这个Volume的配置和docker run -v参数还是有一定的区别的。</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.ono.lol/2019/10/28/ComputerScience/Docker/Dockerfile%20%E5%85%B3%E4%BA%8E%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%20COPY%20%E5%92%8C%20VOLUME%20%E7%9A%84%E8%AF%B4%E6%98%8E/">Dockerfile 关于如何使用 COPY 和 VOLUME 的说明</a> 映射不在 image 层完成<br>2.<a target="_blank" rel="noopener" href="https://www.runoob.com/docker/docker-compose.html">Docker Compose</a><br>3.<a target="_blank" rel="noopener" href="https://yeasy.gitbook.io/docker_practice/compose/compose_file#build">build</a> 指定 Dockerfile 所在文件夹的路径（可以是绝对路径，或者相对 docker-compose.yml 文件的路径）。 Compose 将会利用它自动构建这个镜像，然后使用这个镜像。<br>4.<a target="_blank" rel="noopener" href="https://www.cnblogs.com/hahaha111122222/p/13186899.html">Dockerfile 和 docker-compose.yml的区别</a> Dockerfile是用来构建镜像的，若是想使用这个镜像的话还需要使用docker run命令来运行这个镜像，从而生成运行一个容器<br>docker-compose.yml是用来编排项目的，里面包含使用各种镜像创建的容器服务，使用的镜像可以是网络上的，也可以是根据使用Dockerfile文件来生成的镜像，相当于是把上一步的这个工作给做了<br>5.<a target="_blank" rel="noopener" href="https://www.codeleading.com/article/11053903026/">理解Dockerfile volume与docker-compose.yml volume</a> Don’t Create Volumes Inside a Dockerfile<br>6.<a target="_blank" rel="noopener" href="https://www.cnblogs.com/hahaha111122222/p/13176842.html">docker -v 和Dockerfile 中VOLUME 区别</a> 那么Dockerfile中的VOLUME指令实际使用中是不是就是跟docker run中的-v参数一样是将宿主机的一个目录绑定到容器中的目录以达到共享目录的作用呢？并不然，其实VOLUME指令只是起到了声明了容器中的目录作为匿名卷，但是并没有将匿名卷绑定到宿主机指定目录的功能。<br>7.<a target="_blank" rel="noopener" href="https://dockone.io/article/128">深入理解Docker Volume（一）</a> 挂载主机目录不需要从Dockerfile指定。当使用-v参数时，镜像目录下的任何文件都不会被复制到Volume中。（译者注：Volume会复制到镜像目录，镜像不会复制到卷）<br>8.<a target="_blank" rel="noopener" href="https://segmentfault.com/q/1010000004107293/a-1020000004904750">Dockerfile 中的Volume有什么意义，光用docker run -v效果相同吗？</a> 你可以把VOLUME理解为，从镜像中复制指定卷的文件夹到本地/var/lib/docker/volumes/xxxxxxxxx/文件夹，然后把本地的该文件夹挂载到容器里面去。</div>
<h2 id="9-COPY-failed-Forbidden-path-outside-the-build-context"><a href="#9-COPY-failed-Forbidden-path-outside-the-build-context" class="headerlink" title="9.COPY failed: Forbidden path outside the build context"></a>9.COPY failed: Forbidden path outside the build context</h2><p>看这个错误的意思，就是无法复制dockerfile文件上一级目录里面的文件。因为Dockerfile并不支持../指向上级目录的方式，最终我还是放弃了，直接将相关的脚本放到了dockerfile文件所在的目录里面了。</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.pkslow.com/archives/dockerfile-copy-parent-files">Dockerfile复制上级目录文件</a> docker build -t my-tab -f /abc/defg/my-dockerfile /context-dir<br>2.<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/69615253/copy-failed-forbidden-path-outside-the-build-context-docker-compose">COPY failed: forbidden path outside the build context docker compose [duplicate]</a></div>
<h2 id="10-debconf-delaying-package-configuration-since-apt-utils-is-not-installed"><a href="#10-debconf-delaying-package-configuration-since-apt-utils-is-not-installed" class="headerlink" title="10.debconf: delaying package configuration, since apt-utils is not installed"></a>10.debconf: delaying package configuration, since apt-utils is not installed</h2><div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://github.com/phusion/baseimage-docker/issues/319">[16.04] debconf: delaying package configuration, since apt-utils is not installed #319</a></div>
<h2 id="11-docker无法执行nohup"><a href="#11-docker无法执行nohup" class="headerlink" title="11.docker无法执行nohup"></a>11.docker无法执行nohup</h2><p>我在dockerfile文件中定义了一个脚本，启动docker之后执行这个脚本，本来是两条java命令同时启动的，但是我发现了每一次只能启动到第一个java，之后的就不能启动了。</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="comment">## 设置环境变量</span></span><br><span class="line"><span class="built_in">set</span> JAVA_OPTS=-Xms512m -Xmx1024m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=512m</span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /home/jar</span><br><span class="line"><span class="comment">## 修改权限</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 启动ruoyi-auth</span></span><br><span class="line">java -jar ruoyi-auth.jar;</span><br><span class="line"><span class="comment">## 启动ruoyi-gateway</span></span><br><span class="line">java -jar ruoyi-gateway.jar</span><br></pre></td></tr></tbody></table></figure>


<p>经过一段时间的摸索，我明白了，因为第一条java命令，就占据了整个的终端，在后面继续的输入命令，就会无效了，就好像我们在终端中启动jar一样，只有另外开一个终端，才能重新部署另外的jar包。</p>
<p>既然有这么一个问题，那我就尝试换成nohup命令，后台运行。</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> java -jar ruoyi-auth.jar &gt; /dev/null 2&gt;&amp;1 &amp;</span><br></pre></td></tr></tbody></table></figure>

<p>但是后台运行也出现了问题，直接导致了 docker 运行之后直接停止了，虽然命令执行成功了，但是程序没有启动起来。我尝试了启动其中的一个nohup,然后另外的一个使用java,这样确实可以启动了。</p>
<p>【解决】<br>其实解决方法很简单,就是防止容器执行完命令后退出：<br>1.多个java文件启动的话，使用nohup命令启动。<br>2.最后一个程序，使用前台方式启动也就是使用 java -jar 的方式启动，或者脚本的最后一句添加：tail -f /dev/null，防止容器退出。</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/jiangh_catr/article/details/52782815">如何避免Docker容器启动脚本运行后自动退出——一个cron定时任务docker镜像方案</a> 注意：1.容器中运行多个守护进程时，前面的进程要用后台方式运行（或添加 &amp;），否则后面的服务无法启动。2.容器中最后一个守护进程一定要用前台方式运行，否则start.sh退出，容器退出，所有的服务就白启动了。<br>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/zhuchunyan_aijia/article/details/81143481">https://blog.csdn.net/zhuchunyan_aijia/article/details/81143481</a> 脚本的最后一句添加：tail -f /dev/null，防止容器退出。<br>3.<a target="_blank" rel="noopener" href="https://jerrymei.cn/docker-container-run-not-stop-automatically/">docker run 如何让容器启动后不会自动停止</a> </div>
<h2 id="12-Failed-to-Setup-IP-tables"><a href="#12-Failed-to-Setup-IP-tables" class="headerlink" title="12.Failed to Setup IP tables"></a>12.Failed to Setup IP tables</h2><p>启动docker 时显示：“Creating network “docker_default” with the default driver ERROR: Failed to Setup IP tables: Unable to enable SKIP DNAT rule:  (iptables failed: iptables –wait -t nat -I DOCKER -i br-a22eba4be2cb -j RETURN: iptables: No chain/target/match by that name.”</p>
<p>【解决方法】</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 关闭防火墙后重启docker</span></span><br><span class="line">systemctl start docker</span><br></pre></td></tr></tbody></table></figure>

<p>我顺便把SELinux也关闭了。</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/42842277/docker-compose-down-default-network-error">docker-compose down default_network error</a><br>2.<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/53347951/docker-network-not-found">Docker Network not Found</a><br>3.<a target="_blank" rel="noopener" href="https://blog.csdn.net/lcr_happy/article/details/89282116">执行docker-compose up -d时出现ERROR: Failed to Setup IP tables: Unable to enable SKIP DNAT rule</a> 这个解决了问题。</div>
<h2 id="13-docker占满磁盘-no-space-left-on-device"><a href="#13-docker占满磁盘-no-space-left-on-device" class="headerlink" title="13.docker占满磁盘 no space left on device"></a>13.docker占满磁盘 no space left on device</h2><p>部署docker应用的时候，出现了这个问题:failed to copy files: userspace copy failed: write /var/lib/docker/volumes/ea5224ca7b599a45364da06eb8bc47ca6dab8b606e1c217dff2d34ad255c1efd/_data/ph-phems.jar: no space left on device</p>
<p>【解决方法】<br>比较暴力的方法就是直接删除 docker 目录，重新创建容器，但是这个问题好像有点太暴力了，还有参考文章中的其他的方法比较靠谱点。</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 停止</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl stop docker.socket</span><br><span class="line"><span class="built_in">sudo</span> systemctl stop docker.service</span><br><span class="line"></span><br><span class="line"><span class="comment">## 删除日志</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> -rf /var/lib/docker</span><br><span class="line"></span><br><span class="line"><span class="comment">## 启动</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl start docker</span><br></pre></td></tr></tbody></table></figure>


<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/isea533/article/details/95197468">Docker 容器磁盘占满的几种情况</a> 1.应用日志过多；2.Dockerd 日志过多。解决方案：1. 启动容器参数，2. 全局默认配置，3.docker-compose 配置。<br>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43066097/article/details/116410785">docker占用磁盘空间太大的解决办法</a> 1.删除所有关闭的容器。2.删除所有 dangling镜像（即无tag的镜像）删除所有dangling数据卷（即无用的volume）(实测有用）。4.借助docker自带自动化清理工具进行清理。<br>3.<a target="_blank" rel="noopener" href="https://colobu.com/2018/10/22/no-space-left-on-device-for-docker/">Docker日志太多导致磁盘占满 </a> 1、对/var/lib/docker/containers下的文件夹进行排序，看看哪个容器占用了太多的磁盘空间 。2、选择你要清理的容器进行清理 。3、限制日志文件的大小 。<br>4.<a target="_blank" rel="noopener" href="https://blog.csdn.net/gulijiang2008/article/details/105269414">Docker限制容器日志大小</a> 通过配置容器docker-compose.yml的max-size选项来实现:</div>
<h2 id="14-迁移docker文件"><a href="#14-迁移docker文件" class="headerlink" title="14.迁移docker文件"></a>14.迁移docker文件</h2><figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 停止docker服务。</span></span><br><span class="line">systemctl stop docker.socket</span><br><span class="line">systemctl stop docker.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新建目录</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /home/docker/lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 迁移数据</span></span><br><span class="line">rsync -avz /var/lib/docker /home/docker/lib/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置devicemapper.conf，如果不存在就创建</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /etc/systemd/system/docker.service.d/</span><br><span class="line">vi /etc/systemd/system/docker.service.d/devicemapper.conf</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写入</span></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=</span><br><span class="line">ExecStart=/usr/bin/dockerd  --graph=/home/docker/lib/docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新加载docker</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br><span class="line">systemctl <span class="built_in">enable</span> docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看docker信息</span></span><br><span class="line">docker info</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动成功后，再确认之前的镜像还在</span></span><br><span class="line">docker images</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除原目录</span></span><br><span class="line"><span class="built_in">rm</span> -rf /var/lib/docker/*</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>【1】.<a target="_blank" rel="noopener" href="https://juejin.cn/post/7126149779993657375">迁移 /var/lib/docker 目录</a> 这里步骤厅齐全的<br>【2】.<a target="_blank" rel="noopener" href="https://blog.csdn.net/u013355826/article/details/82872073">无法删除docker目录（rm: 无法删除”/var/lib/docker/overlay/XXXXXXXXXXXXXX/merged”: 设备或资源忙）</a></div>
<h2 id="15-无法删除-‘-var-lib-docker-overlay2-ca34ad3e23b1b9fb152aaf3baf0969d14f969f367e4fc3e26d029028f8adb6be-merged’-设备或资源忙"><a href="#15-无法删除-‘-var-lib-docker-overlay2-ca34ad3e23b1b9fb152aaf3baf0969d14f969f367e4fc3e26d029028f8adb6be-merged’-设备或资源忙" class="headerlink" title="15.无法删除 ‘/var/lib/docker/overlay2/ca34ad3e23b1b9fb152aaf3baf0969d14f969f367e4fc3e26d029028f8adb6be/merged’: 设备或资源忙"></a>15.无法删除 ‘/var/lib/docker/overlay2/ca34ad3e23b1b9fb152aaf3baf0969d14f969f367e4fc3e26d029028f8adb6be/merged’: 设备或资源忙</h2><p>对docker进行迁移之后，删除数据的时候，结果报错了。</p>
<p>【尝试方案】<br>尝试 umount /var/lib/docker/overlay2/ 进行取消挂载，结果无效。</p>
<p>【解决方案】<br>我一条条的执行 umount 命令，就可以了。</p>
<div class="reference">参考文章:<br>【1】.<a target="_blank" rel="noopener" href="https://blog.51cto.com/u_372550/2461886">rm -rf /var/lib/docker 设备或资源忙问题处理</a> umount /var/lib/docker/overlay2/<br>【2】.<a target="_blank" rel="noopener" href="https://www.cnblogs.com/guoboya/p/12099470.html">rm -rf /var/lib/docker 设备或资源忙问题处理</a> umount /var/lib/docker/overlay2/<br>【3】.<a target="_blank" rel="noopener" href="https://blog.csdn.net/u013355826/article/details/82872073">无法删除docker目录（rm: 无法删除”/var/lib/docker/overlay/XXXXXXXXXXXXXX/merged”: 设备或资源忙）</a> 取消挂载</div>
<h2 id="16-docker-Error-response-from-daemon-driver-failed-programming-external-connectivity-on-endpoint-blissful-shannon-026b4c63bd7fa47e149fd9b7b6e06c124f49b9b3b62af6516f64c1477213c6a4-exec-“docker-proxy”-executable-file-not-found-in-PATH"><a href="#16-docker-Error-response-from-daemon-driver-failed-programming-external-connectivity-on-endpoint-blissful-shannon-026b4c63bd7fa47e149fd9b7b6e06c124f49b9b3b62af6516f64c1477213c6a4-exec-“docker-proxy”-executable-file-not-found-in-PATH" class="headerlink" title="16.docker: Error response from daemon: driver failed programming external connectivity on endpoint blissful_shannon (026b4c63bd7fa47e149fd9b7b6e06c124f49b9b3b62af6516f64c1477213c6a4): exec: “docker-proxy”: executable file not found in $PATH."></a>16.docker: Error response from daemon: driver failed programming external connectivity on endpoint blissful_shannon (026b4c63bd7fa47e149fd9b7b6e06c124f49b9b3b62af6516f64c1477213c6a4): exec: “docker-proxy”: executable file not found in $PATH.</h2><p>我迁移docker的时候没有啥问题，后来运行某些镜像的时候，出现了这个问题。</p>
<p>【解决方案】<br>（1）尝试删除容器和镜像，重新创建了一个镜像，结果无效</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 删除容器</span></span><br><span class="line">docker <span class="built_in">rm</span></span><br><span class="line"><span class="comment"># 删除镜像</span></span><br><span class="line">docker image <span class="built_in">rm</span></span><br></pre></td></tr></tbody></table></figure>

<p>（2）重启doker服务后，再重启容器，结果还是报错</p>
<p>（3）建立软连接，因为我找不到 whereis docker-proxy，docker-proxy: /usr/bin/docker-proxy，软连接或者配置到path里面，所以这个方法也失败了。</p>
<p>【解决方案】<br>因为我前面配置了dockers数据目录，后来我又重新配置 docker 数据目录，使用了另外的方法。</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 停止docker服务。</span></span><br><span class="line">systemctl stop docker.socket</span><br><span class="line">systemctl stop docker.service</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置devicemapper.conf，如果不存在就创建</span></span><br><span class="line"><span class="built_in">rm</span> -rf /etc/systemd/system/docker.service.d</span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">vi /usr/lib/systemd/system/docker.service</span><br><span class="line"><span class="comment"># 写入</span></span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/bin/dockerd \</span><br><span class="line">          --host=fd:// \</span><br><span class="line">          --exec-opt native.cgroupdriver=systemd \</span><br><span class="line">          --graph=/home/docker/lib/docker \</span><br><span class="line">          <span class="variable">$OPTIONS</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新加载docker</span></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br><span class="line">systemctl <span class="built_in">enable</span> docker</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看docker信息</span></span><br><span class="line">docker info</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>【1】.<a target="_blank" rel="noopener" href="https://www.cnblogs.com/Sungeek/p/9995017.html">docker端口映射启动报错Error response from daemon: driver failed programming external connectivity on endpoint jms_guacamole</a><br>【2】.<a target="_blank" rel="noopener" href="https://blog.csdn.net/whatday/article/details/86762264">docker端口映射或启动容器时报错 driver failed programming external connectivity on endpoint quirky_allen</a> docker服务启动时定义的自定义链DOCKER由于 centos7 firewall 被清掉，firewall的底层是使用iptables进行数据过滤，建立在iptables之上，这可能会与 Docker 产生冲突。当 firewalld 启动或者重启的时候，将会从 iptables 中移除 DOCKER 的规则，从而影响了 Docker 的正常工作。<br>【3】.<a target="_blank" rel="noopener" href="https://www.cnblogs.com/cxbhakim/p/9149596.html">exec: “docker-proxy”: executable file not found in $PATH</a> 创建一条软连接 ln -s /usr/libexec/docker/docker-proxy-current /usr/bin/docker-proxy<br>【4】.<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1835999">修改 Docker 镜像默认存储位置的方法</a> 这里有各种不同的修改方法</div></body></html>
              </div>
            </div>
          </div>
          <div class='post-footer'>
            <div>**本文已结束，感谢您的观看**</div>
            <div class="btn btn-pay">鼓励一下</div>
          </div>
          
            <div class="page">
              
              <section class="past-wrap">
                <section class="past">
                <p>往期推荐</p>
                </section>
              </section>
              <div class="post-nav">
                <div class="post-nav-next post-nav-item">
                  
                    <a href="/posts/f7b2e44a.html" rel="next" title="Docker相关知识点">
                      <i class="iconfont icon-prev"></i> Docker相关知识点
                    </a>
                  
                </div>

                <span class="post-nav-divider"></span>

                <div class="post-nav-prev post-nav-item">
                  
                    <a href="/posts/751a51b1.html" rel="prev" title="Docker常见错误及解决方法">
                      Docker常见错误及解决方法 <i class="iconfont icon-next"></i>
                    </a>
                  
                </div>
              </div>
            </div>
          
          
 <div class="comments" id="comments">
    <div id="disqus_thread">
        <noscript>
            不支持Javascript,那你还上啥网啊。
            <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript"></a>
        </noscript>
    </div>
</div>

      </div>
    </div>


    <div class="layui-col-md2 layui-col-lg2 layui-col-sm10 layui-col-xs12 catalogue-wrap">
        

<div class="catalogue-content">
    <div class="title">文章目录</div>
    <div class="toc-content">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-The-process-cannot-access-the-file-because-it-is-being-used-by-another-process"><span class="toc-number">1.</span> <span class="toc-text">1.The process cannot access the file because it is being used by another process.</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-response-from-daemon-Error-processing-tar-file-exit-status-1-archive-tar-invalid-tar-header"><span class="toc-number">2.</span> <span class="toc-text">2.response from daemon: Error processing tar file(exit status 1): archive&#x2F;tar: invalid tar header</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%E5%AE%B9%E5%99%A8%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E5%A4%B1%E6%95%88%E9%97%AE%E9%A2%98"><span class="toc-number">3.</span> <span class="toc-text">3.重新启动容器环境变量失效问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AE%B9%E5%99%A8%E6%97%B6%E9%97%B4%E5%92%8C%E5%AE%BF%E4%B8%BB%E6%9C%BA%E6%97%B6%E9%97%B4%E4%B8%8D%E4%B8%80%E8%87%B4%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">4.容器时间和宿主机时间不一致问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Error-response-from-daemon-No-command-specified"><span class="toc-number">5.</span> <span class="toc-text">5.Error response from daemon: No command specified</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-WARNING-No-blkio-throttle-read-bps-device-support"><span class="toc-number">6.</span> <span class="toc-text">6.WARNING: No blkio throttle.read_bps_device support</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-vmmem%E8%BF%9B%E7%A8%8B%E5%8D%A0%E7%94%A8%E5%86%85%E5%AD%98%E8%BF%87%E9%AB%98"><span class="toc-number">7.</span> <span class="toc-text">7.vmmem进程占用内存过高</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-dockerfile%E4%B8%AD%E7%9A%84volume%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8"><span class="toc-number">8.</span> <span class="toc-text">8.dockerfile中的volume不起作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-COPY-failed-Forbidden-path-outside-the-build-context"><span class="toc-number">9.</span> <span class="toc-text">9.COPY failed: Forbidden path outside the build context</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-debconf-delaying-package-configuration-since-apt-utils-is-not-installed"><span class="toc-number">10.</span> <span class="toc-text">10.debconf: delaying package configuration, since apt-utils is not installed</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-docker%E6%97%A0%E6%B3%95%E6%89%A7%E8%A1%8Cnohup"><span class="toc-number">11.</span> <span class="toc-text">11.docker无法执行nohup</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-Failed-to-Setup-IP-tables"><span class="toc-number">12.</span> <span class="toc-text">12.Failed to Setup IP tables</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-docker%E5%8D%A0%E6%BB%A1%E7%A3%81%E7%9B%98-no-space-left-on-device"><span class="toc-number">13.</span> <span class="toc-text">13.docker占满磁盘 no space left on device</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E8%BF%81%E7%A7%BBdocker%E6%96%87%E4%BB%B6"><span class="toc-number">14.</span> <span class="toc-text">14.迁移docker文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E6%97%A0%E6%B3%95%E5%88%A0%E9%99%A4-%E2%80%98-var-lib-docker-overlay2-ca34ad3e23b1b9fb152aaf3baf0969d14f969f367e4fc3e26d029028f8adb6be-merged%E2%80%99-%E8%AE%BE%E5%A4%87%E6%88%96%E8%B5%84%E6%BA%90%E5%BF%99"><span class="toc-number">15.</span> <span class="toc-text">15.无法删除 ‘&#x2F;var&#x2F;lib&#x2F;docker&#x2F;overlay2&#x2F;ca34ad3e23b1b9fb152aaf3baf0969d14f969f367e4fc3e26d029028f8adb6be&#x2F;merged’: 设备或资源忙</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-docker-Error-response-from-daemon-driver-failed-programming-external-connectivity-on-endpoint-blissful-shannon-026b4c63bd7fa47e149fd9b7b6e06c124f49b9b3b62af6516f64c1477213c6a4-exec-%E2%80%9Cdocker-proxy%E2%80%9D-executable-file-not-found-in-PATH"><span class="toc-number">16.</span> <span class="toc-text">16.docker: Error response from daemon: driver failed programming external connectivity on endpoint blissful_shannon (026b4c63bd7fa47e149fd9b7b6e06c124f49b9b3b62af6516f64c1477213c6a4): exec: “docker-proxy”: executable file not found in $PATH.</span></a></li></ol>
    </div>
</div>


        <div class="sidecontent">

    

    <div class="side-panel side-sponsor">
        <div class="side-title one">小额赞助</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">本人提供免费与付费咨询服务，感谢您的支持！赞助请发邮件通知，方便公布您的善意！</div>
                <div class="content">
                    <img src="/images/pay.png" title="小额赞助"/>
                </div>
                
                
                <div class="donor_content">
                    
                        
                        <div class="donor-item">
                            <span class="name">**光</span>
                            <span class="money">3.01 元</span>
                        </div>
                    
                        
                        <div class="donor-item">
                            <span class="name">Sun</span>
                            <span class="money">3.00 元</span>
                        </div>
                    
                        
                        <div class="donor-item">
                            <span class="name">bibichuan</span>
                            <span class="money">3.00 元</span>
                        </div>
                    
                    <div class="donor_footer">
                        <span>捐赠者名单</span>
                        <span class="total">合计：9.01 元</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="side-ad side-panel">
        <div class="side-title two">微信公众号</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <img src="/images/wechat.png" title="公众号"/>
            </div>
        </div>
    </div>

    <div class="side-ad side-panel">
        <div class="side-title one">广告位</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">诚心邀请广大金主爸爸洽谈合作</div>
                <div class="detail">
                </div>
            </div>
        </div>
    </div>

    <div class="side-ask side-panel">
        
        <div class="side-title two">每日一省</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">isNaN 和 Number.isNaN 函数的区别？</div>
                <div class="detail">
                    
                        <p>1.函数 isNaN 接收参数后，会尝试将这个参数转换为数值，任何不能被转换为数值的的值都会返回 true，因此非数字值传入也会返回 true ，会影响 NaN 的判断。</p>
                    
                        <p>2.函数 Number.isNaN 会首先判断传入参数是否为数字，如果是数字再继续判断是否为 NaN ，不会进行数据类型的转换，这种方法对于 NaN 的判断更为准确。</p>
                    
                </div>
            </div>
            <div class="side-footer">
                <span class="side-footer-item time">2021-04-07</span>
                
                    <span class="side-footer-item side-button down" title="查看答案">
                        <i class="iconfont icon-expansion"></i>
                    </span>
                
                
                    <a class="side-footer-item side-button answer-url" href="https://juejin.cn/post/6940945178899251230"
                    target="_blank">链接地址</a>
                
            </div>
        </div>
    </div>
    <div class="side-ask side-panel">
        
        <div class="side-title three">每日二省</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">为什么0.1+0.2 ! == 0.3，如何让其相等?</div>
                <div class="detail">
                     
                        <p>一个直接的解决方法就是设置一个误差范围，通常称为“机器精度”。对JavaScript来说，这个值通常为2-52，在ES6中，提供了Number.EPSILON属性，而它的值就是2-52，只要判断0.1+0.2-0.3是否小于Number.EPSILON，如果小于，就可以判断为0.1+0.2 ===0.3。</p>
                    
                </div>
            </div>
            <div class="side-footer">
                <span class="side-footer-item time">2021-04-07</span>
                
                    <span class="side-footer-item side-button down" title="查看答案">
                        <i class="iconfont icon-expansion"></i>
                    </span>
                
                
                    <a class="side-footer-item side-button answer-url" href="https://juejin.cn/post/6940945178899251230#heading-8"
                    target="_blank">链接地址</a>
                
            </div>
        </div>
    </div>
    <div class="side-ask side-panel">
        
        <div class="side-title three">每日三省</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">== 操作符的强制类型转换规则？</div>
                <div class="detail">
                     
                        <p>1.首先会判断两者类型是否**相同，**相同的话就比较两者的大小。</p>
                    
                        <p>2.类型不相同的话，就会进行类型转换。</p>
                    
                        <p>3.会先判断是否在对比 null 和 undefined，是的话就会返回 true。</p>
                    
                        <p>4.判断两者类型是否为 string 和 number，是的话就会将字符串转换为 number。</p>
                    
                        <p>5.判断其中一方是否为 boolean，是的话就会把 boolean 转为 number 再进行判断。</p>
                    
                        <p>6.判断其中一方是否为 object 且另一方为 string、number 或者 symbol，是的话就会把 object 转为原始类型再进行判断。</p>
                    
                </div>
            </div>
            <div class="side-footer">
                <span class="side-footer-item time">2021-04-07</span>
                
                    <span class="side-footer-item side-button down" title="查看答案">
                        <i class="iconfont icon-expansion"></i>
                    </span>
                
                
                    <a class="side-footer-item side-button answer-url" href="https://juejin.cn/post/6940945178899251230#heading-12"
                    target="_blank">链接地址</a>
                
            </div>
        </div>
    </div>
    <div class="side-ask side-panel">
        
        <div class="side-title two">每日英语</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">Happiness is time precipitation, smile is the lonely sad.</div>
                <div class="detail">幸福是年华的沉淀，微笑是寂寞的悲伤。</div>
            </div>
            <div class="side-footer">
                <span class="side-footer-item time">2016</span>
                
                    <span class="side-footer-item side-button down" title="查看翻译">
                        <i class="iconfont icon-expansion"></i>
                    </span>
                
                <span class="side-footer-item author">——— 美文</span>
            </div>
        </div>
    </div>

</div>
    </div>

  </div>
  <div class="side-tool">
    <div class="side-icon-wrap">
        <i class="iconfont icon-sidemenu"></i>
    </div>
    <ul class="side-tool-content">
        <li title="回到顶部" class="back-to-top side-tool-item">
            <a class="function-button"><i class="iconfont icon-backtop"></i></a>
        </li> 
        <li title="分享文章" class="side-share side-tool-item">
            <a class="function-button"><i class="iconfont icon-share"></i></a>
            <div class="iShare iShare-content"></div>
        </li>
        <li title="喜欢文章" class="side-like side-tool-item">
            <a class="function-button"><i class="iconfont icon-like"></i></a>
        </li>
         <li class="side-close" title="关闭侧边栏">
            <a class="function-button"><i class="iconfont icon-close"></i></a>
        </li>
    </ul>
</div>

      </div>
    </main>   
    
    <footer id="footer" class="footer layui-fluid">
      <div class="layui-row">
        <div class="container footer-inner">
          <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="footer-col">
  <div>温馨提示</div>
  <div><a href="/about" target="_self">关于作者</a></div>
  <div><a href="/archives">博客归档</a></div>
  <div>
    <span id="busuanzi_container_site_uv">
      访客数<span id="busuanzi_value_site_uv"></span>人次
    </span>
  </div>
</div>
<div class="footer-col">
  <div>友情链接</div>
  
  
  
  
    
        <div><a href="https://malagis.com" target="_blank">麻辣GIS</a></div>
    
  
    
        <div><a href="https://www.giserdqy.com" target="_blank">GIS开发者</a></div>
    
  
    
        <div><a href="https://earth.nullschool.net/zh-cn/" target="_blank">earth.nullschool</a></div>
    
  
    
        <div><a href="https://www.gisclouder.com/" target="_blank">码上GIS实现的热力图</a></div>
    
  
    
        <div><a href="http://www.cnblogs.com/naaoveGIS/" target="_blank">李晓辉的博客园</a></div>
    
  
    
        
          <div><a href="/links">更多</a></div>
          
        
    
  
    
        
    
  
    
        
    
  
    
        
    
  
  <div class="chain-msg">**注意：以上网站都没给钱**</div>
</div>
<div class="footer-col">
  <div>精彩推荐</div>
  
    <div><a href="/study">励志</a></div>
  
    <div><a href="/anime">动漫</a></div>
  
    <div><a href="/movie">电影</a></div>
  
    <div><a href="/tv">电视</a></div>
  
    <div><a href="/book">书籍</a></div>
  
</div>
<div class="footer-col">
  <div>开源项目</div>
  
    <div><a href="/"></a></div>
  
</div>
          
        </div>
      </div>
    </footer>

    


<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>

    
        
            
            
            <script type="text/javascript" src="/lib/layui/layui.js"></script>
        
    
        
    

    
        
            
            
                
            
            <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
        
    

    
        
            
            
            <script type="text/javascript" src="/lib/jquery.actual.min.js"></script>
        
    


    


  <script type="text/javascript" src="/js/src/utils.js?v="></script>



    
      <script type="text/javascript" src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearchLite.min.js"></script>
<script type="text/javascript">
  var client = algoliasearch('DM9LMZOGZE', '1c2739694b8acb4c4edab8ccb098d166');
  var index = client.initIndex('bibichuan');
  $(document).ready(function(){
    var $search=$(".header-wrap");
    var $searchbtn= $search.find(".find");
    var $ipt=$search.find(".search-ipt");
    var $resultClear=$search.find(".clear");
    var $result=$search.find(".result");
    // 加入layui
    layui.use('layer', function(){
      var layer = layui.layer;
      // 搜索按钮点击
      $searchbtn.on("click",function(){
        var text=$ipt.val();
        var $this=$(this);
        var $resultContent=$result.find(".result-content");
        if(text){
          var loadDialog=layer.load();
          if(!$this.hasClass("disabled")){
            $this.addClass("disabled");
            index.search(text, (err, { hits } = {}) => {
              layer.close(loadDialog); 

              $this.removeClass("disabled");
              var resultHtml="";
              // 命中
              if(hits.length>0){
                var count=hits.length;
                for(var i=0;i<count;i++){
                  var h=hits[i];
                  //根据返回值中_highlightResult来判断显示的内容。
                  var content=h.contentStripTruncate;
                  var _highlight=h._highlightResult;

                  var resultC="";
                  var hitType=""; // 命中的类型
                  //标题命中
                  if(_highlight.title&&!resultC){  
                    if(_highlight.title.matchLevel&&_highlight.title.matchLevel!='none'){
                      resultC=_highlight.title.value;
                      hitType="title";
                    }
                  }
                  //分类命中
                  if(_highlight.categories&&!resultC){ 
                    var arr=_highlight.categories;
                    if(arr instanceof Array){
                      var countTemp=arr.length;
                      for(var j=0;j<countTemp;j++){
                        var temp=arr[j];
                        if(temp.matchLevel&&temp.matchLevel!='none'){
                          resultC=temp.value;
                          hitType="categories";
                        }
                      }
                    }else{
                      if(arr.matchLevel&&arr.matchLevel!='none'){
                        resultC=arr.value;
                        hitType="categories";
                      }
                    }
                  }

                  //标签命中
                  if(_highlight.tags&&!resultC){ 
                    var arr=_highlight.tags;
                    if(arr instanceof Array){
                      var countTemp=arr.length;
                      for(var j=0;j<countTemp;j++){
                        var temp=arr[j];
                        if(temp.matchLevel&&temp.matchLevel!='none'){
                          resultC=temp.value;
                          hitType="tags";
                        }
                      }
                    }else{
                      if(arr.matchLevel&&arr.matchLevel!='none'){
                        resultC=arr.value;
                        hitType="tags";
                      }
                    }
                  }

                  // 内容命中
                  if(!resultC){ 
                    resultC=_highlight.contentStripTruncate.value;
                    hitType="contentStripTruncate";
                  }

                  //如果内容过长，则截断
                  if(resultC.length>50){
                    var index=resultC.indexOf('<em>');
                    var blockIndex=10;
                    if(index>=blockIndex){
                      index=index-blockIndex;
                    }else{
                      index=0;
                    }
                    resultC="..."+resultC.substring(index,index+20+blockIndex)+"...";
                  }
                  switch(hitType){
                    case "title":
                      resultC="标题："+resultC;
                      break;
                    case "categories":
                      resultC="分类："+resultC;
                      resultC+=" ("+h.contentStripTruncate.substring(0,40)+"...)";
                      break;
                    case "tags":
                      resultC="标签："+resultC;
                      resultC+=" ("+h.contentStripTruncate.substring(0,40)+"...)";
                      break;
                    case "contentStripTruncate":
                      resultC="内容："+resultC;
                      break;
                  }

                  resultHtml+='<li class="result-item" title="'+content+'"><a href="'+h.permalink+'">'+resultC+'</a></li>';
                }
                $(resultHtml).appendTo($resultContent.empty());
                $result.show();
                $resultClear.show();
              }else{
                var resultHtml='<li class="result-item" title="未找到相关内容"><a>未找到相关内容</a></li>';
                $(resultHtml).appendTo($resultContent.empty());
                $result.show();
                $resultClear.show();
              }
            });
          }
        }else{
          layer.msg("请输入搜索内容");
        }
      });
      // 删除输入内容
      $resultClear.on("click",function(){
        $result.hide();
        $resultClear.hide();
        //清空输入内容
        $ipt.val("");
      });
      // 监听确定事件
      $ipt.keydown(function(e){
        if(e.keyCode==13){
          $searchbtn.click();
        }
      });
    });              
  
  });
</script>
    

    
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.6/dist/jquery.fancybox.min.js"></script>
<script src="/js/src/post/post.js">></script>

  

  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = 'https://bibichuan.github.io/posts/31d0296a.html';
      this.page.identifier = 'posts/31d0296a.html';
      this.page.title = 'Docker常见错误及解决方法二';
      };
    // 加载评论内容
    function loadComments () {
      var d = document, s = d.createElement('script');
      s.src = 'https://https-bibichuan-github-io.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);

      // 隐藏相关文章
      s.onload = function () {
        var relatedCommon=$('#comments #disqus_recommendations');
        if(relatedCommon){
          relatedCommon.hide();
        }

      }
    }
    function scrollFunction(){
      // offsetTop may changes because of manually resizing browser window or lazy loading images.
          var offsetTop = $('#comments').offset().top - $(window).height();
          var scrollTop = $(window).scrollTop();

          // pre-load comments a bit? (margin or anything else)
          if (offsetTop - scrollTop < 60) {
            $(window).off('scroll',scrollFunction);
            loadComments();
          }
    }
    $(function () {
      if($("#comments").length<=0){
        return;
      }
      var offsetTop = $('#comments').offset().top - $(window).height();
      if (offsetTop <= 0) {
        // load directly when there's no a scrollbar
        loadComments();
      } else {
        $(window).on('scroll', scrollFunction);
      }
    });
  </script>



<script src="/lib/share/iShare.js"></script>
<script type="text/javascript">
var iSharel=(new iShare({container:'.iShare-content',config:{
		title: '这里有精彩的内容，你确定不过来看看吗？链接标题：Docker常见错误及解决方法二 链接地址:https://bibichuan.github.io/posts/31d0296a.html  |(复制此地址在浏览器中打开)——bibichaun出品。',
		description: 'Docker常见错误及解决方法二',
		url: 'https://bibichuan.github.io/posts/31d0296a.html',
		isAbroad: false,
		isTitle: true,
		initialized: true,
		WXoptions:{
			evenType: 'click',
			isTitleVisibility: true,
			title: 'Docker常见错误及解决方法二',
			isTipVisibility: true,
			tip: 'Docker常见错误及解决方法二',
			qrcodeW: '120',
			qrcodeH: '120',
			qrcodeFgc: '#4a148c',
      bgcolor: '#2BAD13'
		}
	}}));
</script>


</body>
</html>