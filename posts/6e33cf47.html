<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>软件研究之华夏ERP</title>
    <!-- 页面描述 -->
<meta name="description" content=""/>
<!-- 页面关键词 -->
<meta name="keywords" content=""/>
<!-- 网页作者 -->
<meta name="author" content="bibichuan, ibibichuan@gmail.com"/>
<!-- 搜索引擎抓取 -->
<meta name="robots" content="index,follow"/>

<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"/>

<!--禁止百度转码-->
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<!--启用WebApp全屏模式-->
<meta name="apple-mobile-web-app-capable" content="yes" />
<!--禁止数字自动识别为电话号码-->
<meta name="format-detection" content="telephone=no" />
<!--忽略识别邮箱-->
<meta name="format-detection" content="email=no" />
<!--360强制谷歌内核-->
<meta name="renderer" content="webkit"> 

<link rel="icon" href="/images/favicon.ico">

<link rel="stylesheet" href="//at.alicdn.com/t/font_1022896_nclaqhxyt.css">

<link href="/css/main.css" rel="stylesheet" type="text/css" />

<!-- 谷歌广告 -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8382618401389723"></script>


<script type="text/javascript" id="hexo.configurations">
  var BTheme = window.BTheme ||{};
  var CONFIG = {
    root: '/'
  };
</script>

<!--百度统计-->
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?ee4ff785c4c68fa9a0ea17241e0574ea";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

<!--谷歌统计-->

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-G4HPTST8XX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-G4HPTST8XX');
</script>

    
    
        
    
        
            
            
            <link href="/lib/layui/css/layui.css" rel="stylesheet" type="text/css" />
        
    

    
        
    

    
        
    


    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.6/dist/jquery.fancybox.min.css" />
<link rel="stylesheet" type="text/css" href="/lib/share/style/css/ishare.css">

<meta name="generator" content="Hexo 5.4.2"></head>
<body class="main">

    <header id="header" class="header layui-fluid">
        <div class="header-inner layui-row"><div class="header-wrap">
    <div class="logo_wrap">
        <a href="/"><img src="/images/logo.png"></a>
    </div>
    <div class='search-warp'>
  <div class="search">
    <input class="search-ipt" placeholder="请输入搜索内容"/>
    <div class="search-btn clear"><i class="iconfont icon-guanbi"></i></div>
    <div class="search-btn find"><i class="iconfont icon-sousuo"></i></div>
  </div>
  <div class="result">
    <ul class="result-content"></ul>
  </div>
</div>
    <div class="icon-menu"><i class="iconfont icon-m_menu"></i></div>
    <nav class="site-nav">
        <ul class="menu layui-nav">
            
            
            <li class="menu-item layui-nav-item">
                <a href="/" rel="section">
                    <i class="iconfont icon-home"></i>首页<i class="iconfont icon-header-mobile icon-right"></i>
                </a>
            </li>
            
            

            
            

            
            
                
                
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/%E6%9D%82%E6%96%87/">
                                    杂文
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/Python/">
                                    Python
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/Gis/">
                                    Gis
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/Asp/">
                                    Asp
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                        
                        
                            
                            <li class="menu-item layui-nav-item">
                                <a href="/categories/%E8%BD%AF%E4%BB%B6/">
                                    软件
                                    <i class="iconfont icon-header-mobile icon-right"></i>
                                </a>
                            </li>
                        
                        
                        
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                
                <li class="more menu-item layui-nav-item">
                    
                    <a href="javascript:;" class="menu-more">
                        更多分类
                        <i class="iconfont icon-header-mobile icon-sidemenu"></i>
                    </a>
                    
                    <dl class="layui-nav-child">
                        
                            
                            
                        
                            
                            
                        
                            
                            
                        
                            
                            
                        
                            
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/Java/">
                                            Java
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E5%89%8D%E7%AB%AF/">
                                            前端
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/Javascript/">
                                            Javascript
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">
                                            数据库
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">
                                            操作系统
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/Nodejs/">
                                            Nodejs
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE/">
                                            大数据
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E5%90%8E%E5%8F%B0%E6%9C%8D%E5%8A%A1/">
                                            后台服务
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E9%9A%8F%E7%AC%94/">
                                            随笔
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">
                                            机器学习
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                            
                            
                                
                                
                                    
                                    <dd class="nav-child">
                                        <a href="/categories/%E5%85%B6%E4%BB%96/">
                                            其他
                                            <i class="iconfont icon-header-mobile icon-right"></i>
                                        </a>
                                    </dd>
                                
                            
                        
                    </dl>
                </li>
            
        </ul>
    </nav>
</div></div>
    </header>
    
    <main class="main-content layui-fluid" id="main-content">
      <div class="main-inner">
        
  <div class="layui-row layui-col-space15">
    <div class="layui-col-xs12 layui-col-sm10 layui-col-sm-offset1 layui-col-md6 layui-col-md-offset2 layui-col-lg6 layui-col-lg-offset2">
        <div class="container post_wrap">
          <div class="post">
            <div class="article">
              <h1 class="title">软件研究之华夏ERP</h1>
              <div class="author">
                <span class="tag">标签：
                  

                  
                    无
                  
                </span>
                <span class="tag">分类：
                  

                  
                    未分类
                  
                </span>
                <span class='tag'>
                  创建时间：2022-12-15 13:27:44
                </span>
                <span class='tag'>
                  更新时间：2025-04-28 14:37:41
                </span>
              </div>
              <div class="content">
                <html><head></head><body><h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h2><p>我使用华夏ERP进行部署和开发的时候，遇到的第一个问题就是this.getOption不是一个函数的问题，我降级了less等等操作，都不合适，最后我直接到就升级了package.json相关组件。</p>
<ul>
<li>nodejs v16.15.0</li>
<li>npm v8.5.5</li>
<li>nvm v0.39.1</li>
<li>pnpm v7.14.0</li>
<li>@vue/cli v5.0.6</li>
<li>yarn v1.22.19</li>
</ul>
<p>默认超管账户：admin，默认密码均为：123456</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.kdocs.cn/l/sio8YkRC5wOU">华夏ERP用户手册</a><br>2.<a target="_blank" rel="noopener" href="https://www.kdocs.cn/l/skPA3WycWXxg">通过宝塔面板安装华夏ERP</a></div>
<h2 id="2-修改package-json"><a href="#2-修改package-json" class="headerlink" title="2.修改package.json"></a>2.修改package.json</h2><p>经过不断的错误尝试，版本升级、降级还有添加，最后形成的可用的配置文件 package.json 如下，这样就没有:this.getOptions is not a function 问题了。</p>
<figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">  <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"test"</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"version"</span><span class="punctuation">:</span> <span class="string">"0.1.0"</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"private"</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"scripts"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"serve"</span><span class="punctuation">:</span> <span class="string">"vue-cli-service serve"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"build"</span><span class="punctuation">:</span> <span class="string">"vue-cli-service build"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"lint"</span><span class="punctuation">:</span> <span class="string">"vue-cli-service lint"</span></span><br><span class="line">  <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"dependencies"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"@antv/data-set"</span><span class="punctuation">:</span> <span class="string">"^0.11.8"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"ant-design-vue"</span><span class="punctuation">:</span> <span class="string">"1.7.6"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"area-data"</span><span class="punctuation">:</span> <span class="string">"^5.0.6"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"axios"</span><span class="punctuation">:</span> <span class="string">"^1.2.1"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"clipboard"</span><span class="punctuation">:</span> <span class="string">"^2.0.11"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"codemirror"</span><span class="punctuation">:</span> <span class="string">"5.46.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"core-js"</span><span class="punctuation">:</span> <span class="string">"^3.26.1"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"dayjs"</span><span class="punctuation">:</span> <span class="string">"^1.11.7"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"enquire.js"</span><span class="punctuation">:</span> <span class="string">"^2.1.6"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"intro.js"</span><span class="punctuation">:</span> <span class="string">"^6.0.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"jquery"</span><span class="punctuation">:</span> <span class="string">"^3.6.2"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"js-cookie"</span><span class="punctuation">:</span> <span class="string">"^3.0.1"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"lodash.get"</span><span class="punctuation">:</span> <span class="string">"^4.4.2"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"lodash.pick"</span><span class="punctuation">:</span> <span class="string">"^4.4.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"md5"</span><span class="punctuation">:</span> <span class="string">"^2.3.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"moment"</span><span class="punctuation">:</span> <span class="string">"^2.29.4"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"nprogress"</span><span class="punctuation">:</span> <span class="string">"^0.2.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"viser-vue"</span><span class="punctuation">:</span> <span class="string">"^2.4.8"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue"</span><span class="punctuation">:</span> <span class="string">"^2.6.14"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-area-linkage"</span><span class="punctuation">:</span> <span class="string">"^5.1.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-cropper"</span><span class="punctuation">:</span> <span class="string">"^0.5.8"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-i18n"</span><span class="punctuation">:</span> <span class="string">"8.7.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-loader"</span><span class="punctuation">:</span> <span class="string">"15.7.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-ls"</span><span class="punctuation">:</span> <span class="string">"3.2.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-photo-preview"</span><span class="punctuation">:</span> <span class="string">"^1.1.3"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-print-nb-jeecg"</span><span class="punctuation">:</span> <span class="string">"^1.0.11"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-router"</span><span class="punctuation">:</span> <span class="string">"3.6.5"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-splitpane"</span><span class="punctuation">:</span> <span class="string">"^1.0.6"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vuedraggable"</span><span class="punctuation">:</span> <span class="string">"^2.24.3"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vuex"</span><span class="punctuation">:</span> <span class="string">"3.1.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"xlsx"</span><span class="punctuation">:</span> <span class="string">"^0.18.5"</span></span><br><span class="line">  <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"devDependencies"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"@babel/core"</span><span class="punctuation">:</span> <span class="string">"^7.12.16"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"@babel/eslint-parser"</span><span class="punctuation">:</span> <span class="string">"^7.12.16"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"@vue/babel-helper-vue-jsx-merge-props"</span><span class="punctuation">:</span> <span class="string">"^1.4.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"@vue/cli-plugin-babel"</span><span class="punctuation">:</span> <span class="string">"~5.0.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"@vue/cli-plugin-eslint"</span><span class="punctuation">:</span> <span class="string">"~5.0.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"@vue/cli-service"</span><span class="punctuation">:</span> <span class="string">"~5.0.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"@vue/eslint-config-standard"</span><span class="punctuation">:</span> <span class="string">"^8.0.1"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"babel-eslint"</span><span class="punctuation">:</span> <span class="string">"^10.1.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"babel-loader"</span><span class="punctuation">:</span> <span class="string">"^9.1.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"cache-loader"</span><span class="punctuation">:</span> <span class="string">"^4.1.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"compression-webpack-plugin"</span><span class="punctuation">:</span> <span class="string">"3.1.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"css-loader"</span><span class="punctuation">:</span> <span class="string">"^6.7.3"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"eslint"</span><span class="punctuation">:</span> <span class="string">"^7.32.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"eslint-plugin-vue"</span><span class="punctuation">:</span> <span class="string">"^8.0.3"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"html-webpack-plugin"</span><span class="punctuation">:</span> <span class="string">"^5.5.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"less"</span><span class="punctuation">:</span> <span class="string">"3.9.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"less-loader"</span><span class="punctuation">:</span> <span class="string">"4.1.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"null-loader"</span><span class="punctuation">:</span> <span class="string">"^4.0.1"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"sass"</span><span class="punctuation">:</span> <span class="string">"^1.56.2"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"sass-loader"</span><span class="punctuation">:</span> <span class="string">"^13.2.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue-template-compiler"</span><span class="punctuation">:</span> <span class="string">"^2.6.14"</span></span><br><span class="line">  <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"eslintConfig"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"vue/max-attributes-per-line"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="number">2</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">{</span></span><br><span class="line">        <span class="attr">"singleline"</span><span class="punctuation">:</span> <span class="number">5</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"multiline"</span><span class="punctuation">:</span> <span class="punctuation">{</span></span><br><span class="line">          <span class="attr">"max"</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">          <span class="attr">"allowFirstLine"</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">false</span></span></span><br><span class="line">        <span class="punctuation">}</span></span><br><span class="line">      <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/attribute-hyphenation"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/html-self-closing"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/component-name-in-template-casing"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/html-closing-bracket-spacing"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/singleline-html-element-content-newline"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/no-unused-components"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/multiline-html-element-content-newline"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/no-use-v-if-with-v-for"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/html-closing-bracket-newline"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"vue/no-parsing-error"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"no-console"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"no-tabs"</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"indent"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">      <span class="number">4</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"browserslist"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">"&gt; 1%"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">"last 2 versions"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">"not dead"</span></span><br><span class="line">  <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="3-配置文件vue-config-js"><a href="#3-配置文件vue-config-js" class="headerlink" title="3.配置文件vue.config.js"></a>3.配置文件vue.config.js</h2><p>根据测试和修改结果，将vue.config.js的配置修改为如下内容：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>)</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">CompressionPlugin</span> = <span class="built_in">require</span>(<span class="string">'compression-webpack-plugin'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">resolve</span> (<span class="params">dir</span>) {</span><br><span class="line">    <span class="keyword">return</span> path.<span class="title function_">join</span>(__dirname, dir)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = {</span><br><span class="line">    <span class="comment">// 如果你不需要生产环境的 source map，可以将其设置为 false 以加速生产环境构建。</span></span><br><span class="line">    <span class="attr">productionSourceMap</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">configureWebpack</span>: <span class="function"><span class="params">config</span> =&gt;</span> {</span><br><span class="line">    <span class="comment">// 生产环境取消 console.log</span></span><br><span class="line">        <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">'production'</span>) {</span><br><span class="line">            config.<span class="property">optimization</span>.<span class="property">minimizer</span>[<span class="number">0</span>].<span class="property">options</span>.<span class="property">minimizer</span>.<span class="property">options</span>.<span class="property">compress</span>.<span class="property">drop_console</span> = <span class="literal">true</span></span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> {</span><br><span class="line">        config.<span class="property">resolve</span>.<span class="property">alias</span></span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@$'</span>, <span class="title function_">resolve</span>(<span class="string">'src'</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@api'</span>, <span class="title function_">resolve</span>(<span class="string">'src/api'</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@assets'</span>, <span class="title function_">resolve</span>(<span class="string">'src/assets'</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@comp'</span>, <span class="title function_">resolve</span>(<span class="string">'src/components'</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@views'</span>, <span class="title function_">resolve</span>(<span class="string">'src/views'</span>))</span><br><span class="line">        <span class="comment">// 生产环境，开启js\css压缩</span></span><br><span class="line">        <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">'production'</span>) {</span><br><span class="line">            config.<span class="title function_">plugin</span>(<span class="string">'compressionPlugin'</span>).<span class="title function_">use</span>(<span class="keyword">new</span> <span class="title class_">CompressionPlugin</span>({</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(js|css|less)$/</span>, <span class="comment">// 匹配文件名</span></span><br><span class="line">                <span class="attr">threshold</span>: <span class="number">10240</span>, <span class="comment">// 对超过10k的数据压缩</span></span><br><span class="line">                <span class="attr">deleteOriginalAssets</span>: <span class="literal">false</span> <span class="comment">// 删除源文件</span></span><br><span class="line">            }))</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// 忽略md文件</span></span><br><span class="line">        config.<span class="property">module</span></span><br><span class="line">          .<span class="title function_">rule</span>(<span class="string">'markdown'</span>)</span><br><span class="line">          .<span class="title function_">test</span>(<span class="regexp">/\.md$/</span>)</span><br><span class="line">          .<span class="title function_">use</span>(<span class="string">'null-loader'</span>)</span><br><span class="line">            .<span class="title function_">loader</span>(<span class="string">'null-loader'</span>)</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">css</span>: {</span><br><span class="line">        <span class="attr">loaderOptions</span>: {</span><br><span class="line">            <span class="attr">less</span>: {</span><br><span class="line">                <span class="attr">modifyVars</span>: {</span><br><span class="line">                    <span class="comment">/* less 变量覆盖，用于自定义 ant design 主题 */</span></span><br><span class="line">                    <span class="string">'primary-color'</span>: <span class="string">'#1890FF'</span>,</span><br><span class="line">                    <span class="string">'link-color'</span>: <span class="string">'#1890FF'</span>,</span><br><span class="line">                    <span class="string">'border-radius-base'</span>: <span class="string">'4px'</span></span><br><span class="line">                },</span><br><span class="line">                <span class="attr">javascriptEnabled</span>: <span class="literal">true</span></span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">          </span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">devServer</span>: {</span><br><span class="line">        <span class="attr">port</span>: <span class="number">3000</span>,</span><br><span class="line">        <span class="attr">proxy</span>: {</span><br><span class="line">            <span class="string">'/jshERP-boot'</span>: {</span><br><span class="line">                <span class="attr">target</span>: <span class="string">'http://localhost:9999'</span>, <span class="comment">// 请求本地 需要jshERP-boot后台项目</span></span><br><span class="line">                <span class="attr">ws</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">lintOnSave</span>: <span class="literal">false</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="4-修改样式"><a href="#4-修改样式" class="headerlink" title="4.修改样式"></a>4.修改样式</h2><p>将 src/components/NumberInfo 文件夹下的index.less中的 :global 去掉，</p>
<figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">:<span class="selector-tag">global</span> {</span><br><span class="line">    <span class="selector-class">.anticon-caret-up</span> {</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">@red-6</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="selector-class">.anticon-caret-down</span> {</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">@green-6</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>改为如下内容：</p>
<figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.anticon-caret-up</span> {</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@red-6</span>;</span><br><span class="line">}</span><br><span class="line"><span class="selector-class">.anticon-caret-down</span> {</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">@green-6</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="5-修改路由配置"><a href="#5-修改路由配置" class="headerlink" title="5.修改路由配置"></a>5.修改路由配置</h2><p>不知道为什么会有循环引用的问题，需要将 src/config/router.config.js 文件中的 const 改为 var。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 基础路由</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> {<span class="type"> *[] </span>}</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> constantRouterMap = [</span><br><span class="line">    ....</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>

<p>改为</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> constantRouterMap = [</span><br><span class="line">    ....</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>

<h2 id="6-导入数据"><a href="#6-导入数据" class="headerlink" title="6.导入数据"></a>6.导入数据</h2><p>这里使用Dbeaver进行数据导入的时候，如果直接倒入数据的话，会出现乱码的问题。<br>(1) 新建数据库jsh_erp之后,选择utf-8编码，<br>(2) 右键数据库，选择SQL编辑器，新建sql编辑器，将脚本复制到编辑框中<br>(3) 然后右键编辑器，选择执行-&gt;选择执行脚本。<br>(4) 导入数据</p>
<h2 id="7-修改mysql依赖"><a href="#7-修改mysql依赖" class="headerlink" title="7.修改mysql依赖"></a>7.修改mysql依赖</h2><p>因为我系统里面安装的是mysql8.0，而华夏ERP使用的是mysql5.7，需要修改后端的mysql依赖</p>
<figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- &lt;dependency&gt;</span></span><br><span class="line"><span class="comment">    &lt;groupId&gt;mysql&lt;/groupId&gt;</span></span><br><span class="line"><span class="comment">    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span></span><br><span class="line"><span class="comment">    &lt;version&gt;5.1.30&lt;/version&gt;</span></span><br><span class="line"><span class="comment">&lt;/dependency&gt; --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 修改为 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.31<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="8-修改数据库配置"><a href="#8-修改数据库配置" class="headerlink" title="8.修改数据库配置"></a>8.修改数据库配置</h2><p>修改application.properties中的配置</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=xxx</span><br><span class="line">## redis配置</span><br><span class="line">spring.redis.password=1234abcd</span><br></pre></td></tr></tbody></table></figure>

<h2 id="9-配置nginx"><a href="#9-配置nginx" class="headerlink" title="9.配置nginx"></a>9.配置nginx</h2><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">server</span> {</span><br><span class="line">        <span class="attribute">listen</span> <span class="number">3000</span>;</span><br><span class="line">        <span class="attribute">server_name</span>  localhost;</span><br><span class="line">        <span class="attribute">gzip</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="attribute">gzip_min_length</span> <span class="number">100</span>;</span><br><span class="line">        <span class="attribute">gzip_types</span> text/plain text/css application/xml application/javascript;</span><br><span class="line">        <span class="attribute">gzip_vary</span> <span class="literal">on</span>;</span><br><span class="line">        <span class="section">location</span> / {</span><br><span class="line">            <span class="attribute">root</span>   /home/jshERP/jshERP-web;</span><br><span class="line">            <span class="attribute">index</span>  index.html index.htm;</span><br><span class="line">            <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html;</span><br><span class="line">        }</span><br><span class="line">        <span class="section">location</span> /jshERP-boot/ {</span><br><span class="line">            <span class="attribute">proxy_pass</span> http://localhost:9999/jshERP-boot/;</span><br><span class="line">            <span class="attribute">proxy_set_header</span> Host <span class="variable">$host</span>:<span class="variable">$server_port</span>;</span><br><span class="line">        }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="10-自动化脚本"><a href="#10-自动化脚本" class="headerlink" title="10.自动化脚本"></a>10.自动化脚本</h2><p>我这里因为给别人安装的是在windows下安装的，所以最好有一个windows的一键启动脚本，涉及到了nginx启动、java程序启动，还有一个网穿云的内网穿透工具的启动。</p>
<figure class="highlight bat"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">rem 加入下面的代码，后台启动</span></span><br><span class="line"><span class="keyword">if</span> "%<span class="number">1</span>"=="h" <span class="keyword">goto</span> begin</span><br><span class="line"><span class="built_in">start</span> mshta vbscript:createobject("wscript.shell").run("""%~nx0"" h",<span class="number">0</span>)(window.close)&amp;&amp;<span class="keyword">exit</span></span><br><span class="line">:begin</span><br><span class="line"></span><br><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line"><span class="built_in">taskkill</span> /f /fi "IMAGENAME eq nginx.exe"</span><br><span class="line"><span class="comment">rem 此处放加压目录</span></span><br><span class="line"><span class="built_in">SET</span> NGINX_DIR=C:\Soft\nginx-<span class="number">1</span>.<span class="number">23</span>.<span class="number">3</span> </span><br><span class="line"><span class="built_in">cd</span>  <span class="variable">%NGINX_DIR%</span></span><br><span class="line"><span class="built_in">start</span> nginx.exe</span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem 启动java</span></span><br><span class="line"><span class="built_in">SET</span> jshERP_DIR=C:\Soft\jshERP</span><br><span class="line"><span class="built_in">cd</span>  <span class="variable">%jshERP_DIR%</span></span><br><span class="line">java -jar jshERP.jar</span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">rem 按任意继续</span></span><br><span class="line"><span class="comment">rem pause</span></span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.bbsmax.com/A/obzbj6AVzE/">windows nginx重启脚本.bat</a> taskkill /f /fi “IMAGENAME eq nginx.exe”<br>2.<a target="_blank" rel="noopener" href="https://www.dandelioncloud.cn/article/details/1488277582411059202">Nginx windows下nginx启动bat脚本和安装</a> SET NGINX_DIR=E:\VMS\nginx-1.8.0\  #此处放加压目录<br>3.<a target="_blank" rel="noopener" href="https://jingyan.baidu.com/article/6fb756ec52ddd1241858fb05.html">bat中代码注释的几种方法</a><br>4.<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43763430/article/details/127946943">bat脚本启动Java服务</a> 这里还提供了脚本，判断java程序只启动一次的，若jar服务已启动则不启动，没有启动则先查看端口是否被其他进程占用，占用则释放端口后再启动的bat脚本代码。bat脚本双击运行后会出现黑色cmd的终端窗口，若不想出现该窗口，可让其后台启动运行。<br>5.<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36763419/article/details/109754415">Windows环境下使用bat脚本后台运行java或springboot项目的jar包</a></div>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>(1) Less Loader has been initialized using an options object that does not match the API schema - options has an unknown property ‘modifyVars’. </p>
<p>原先的配置：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = {</span><br><span class="line">    <span class="comment">// 如果你不需要生产环境的 source map，可以将其设置为 false 以加速生产环境构建。</span></span><br><span class="line">    <span class="attr">productionSourceMap</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">configureWebpack</span>: <span class="function"><span class="params">config</span> =&gt;</span> {</span><br><span class="line">    <span class="comment">// 生产环境取消 console.log</span></span><br><span class="line">        <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">'production'</span>) {</span><br><span class="line">            config.<span class="property">optimization</span>.<span class="property">minimizer</span>[<span class="number">0</span>].<span class="property">options</span>.<span class="property">terserOptions</span>.<span class="property">compress</span>.<span class="property">drop_console</span> = <span class="literal">true</span></span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">chainWebpack</span>: <span class="function">(<span class="params">config</span>) =&gt;</span> {</span><br><span class="line">        config.<span class="property">resolve</span>.<span class="property">alias</span></span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@$'</span>, <span class="title function_">resolve</span>(<span class="string">'src'</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@api'</span>, <span class="title function_">resolve</span>(<span class="string">'src/api'</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@assets'</span>, <span class="title function_">resolve</span>(<span class="string">'src/assets'</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@comp'</span>, <span class="title function_">resolve</span>(<span class="string">'src/components'</span>))</span><br><span class="line">            .<span class="title function_">set</span>(<span class="string">'@views'</span>, <span class="title function_">resolve</span>(<span class="string">'src/views'</span>))</span><br><span class="line">        <span class="comment">// 生产环境，开启js\css压缩</span></span><br><span class="line">        <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">'production'</span>) {</span><br><span class="line">            config.<span class="title function_">plugin</span>(<span class="string">'compressionPlugin'</span>).<span class="title function_">use</span>(<span class="keyword">new</span> <span class="title class_">CompressionPlugin</span>({</span><br><span class="line">                <span class="attr">test</span>: <span class="regexp">/\.(js|css|less)$/</span>, <span class="comment">// 匹配文件名</span></span><br><span class="line">                <span class="attr">threshold</span>: <span class="number">10240</span>, <span class="comment">// 对超过10k的数据压缩</span></span><br><span class="line">                <span class="attr">deleteOriginalAssets</span>: <span class="literal">false</span> <span class="comment">// 删除源文件</span></span><br><span class="line">            }))</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">css</span>: {</span><br><span class="line">        <span class="attr">loaderOptions</span>: {</span><br><span class="line">            <span class="attr">less</span>: {</span><br><span class="line">                <span class="attr">modifyVars</span>: {</span><br><span class="line">                    <span class="comment">/* less 变量覆盖，用于自定义 ant design 主题 */</span></span><br><span class="line">                    <span class="string">'primary-color'</span>: <span class="string">'#1890FF'</span>,</span><br><span class="line">                    <span class="string">'link-color'</span>: <span class="string">'#1890FF'</span>,</span><br><span class="line">                    <span class="string">'border-radius-base'</span>: <span class="string">'4px'</span></span><br><span class="line">                },</span><br><span class="line">                <span class="comment">// javascriptEnabled: true</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">devServer</span>: {</span><br><span class="line">        <span class="attr">port</span>: <span class="number">3000</span>,</span><br><span class="line">        <span class="attr">proxy</span>: {</span><br><span class="line">            <span class="string">'/jshERP-boot'</span>: {</span><br><span class="line">                <span class="attr">target</span>: <span class="string">'http://localhost:9999'</span>, <span class="comment">// 请求本地 需要jshERP-boot后台项目</span></span><br><span class="line">                <span class="attr">ws</span>: <span class="literal">false</span>,</span><br><span class="line">                <span class="attr">changeOrigin</span>: <span class="literal">true</span></span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">lintOnSave</span>: <span class="literal">undefined</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>【解决方法】<br>经过查找资料，发现了下面的这个配置</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">css</span>: {</span><br><span class="line">    <span class="attr">loaderOptions</span>: {</span><br><span class="line">        <span class="attr">less</span>: {</span><br><span class="line">            <span class="attr">lessOptions</span>: {</span><br><span class="line">                <span class="attr">javascriptEnabled</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">modifyVars</span>: { </span><br><span class="line">                    <span class="string">'primary-color'</span>: <span class="string">'#1890FF'</span>,</span><br><span class="line">                    <span class="string">'link-color'</span>: <span class="string">'#1890FF'</span>,</span><br><span class="line">                    <span class="string">'border-radius-base'</span>: <span class="string">'4px'</span></span><br><span class="line">                },</span><br><span class="line">            },</span><br><span class="line">        }</span><br><span class="line">        </span><br><span class="line">    }</span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904160819691527">less-loader 升级 6.X 后在 webpack 配置 javascriptEnabled 报错解决 </a><br>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangxu4980347/article/details/116588880">less-loader@7.3的vue.config.js配置</a><br>3.<a target="_blank" rel="noopener" href="https://github.com/ant-design/ant-design-landing/issues/235">ValidationError: Invalid options object. Less Loader has been initialized using an options object that does not match the API schema</a> 6.0刚出好像兼容方面有点问题，改成 lessOptions 就可以了。<br>4.<a target="_blank" rel="noopener" href="https://github.com/ant-design/ant-design-landing/issues/235">ValidationError: Invalid options object. Less Loader has been initialized using an options object that does not match the API schema. </a> 这个也是有 lessOptions 这个配置。</div>
<p>(2) You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file.<br>这个问题不知道出现在哪里，因为文件夹里有.md文件，本来应该是忽略的文件，最后还是被webpack处理了，所以就导致了不能识别的问题。Module parse failed: Unexpected character ‘ ‘</p>
<p>【解决方法】<br>后来我找到了相关的配置方法</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">config.<span class="property">module</span></span><br><span class="line">    .<span class="title function_">rule</span>(<span class="string">'markdown'</span>)</span><br><span class="line">    .<span class="title function_">test</span>(<span class="regexp">/\.md$/</span>)</span><br><span class="line">    .<span class="title function_">use</span>(<span class="string">'null-loader'</span>)</span><br><span class="line">        .<span class="title function_">loader</span>(<span class="string">'null-loader'</span>)</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.cnblogs.com/canjiaXQD/p/14994767.html">webpack打包项目报错：You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file.</a><br>2.<a target="_blank" rel="noopener" href="https://www.jb51.net/article/244646.htm">Vue&nbsp;WebPack忽略指定文件或目录方式</a> 1.使用 null-loader；2.使用 url-loader；3.vue.config.js 中设置忽略文件，但是这个地方写的不是很明确。<br>3.<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_48969871/article/details/117957676">在vue 中配置忽略某些文件或文件夹语法检查 eslint</a><br>4.<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/guide/webpack.html">webpack 相关 </a> Vue CLI 内部的 webpack 配置是通过 webpack-chain 维护的。这个库提供了一个 webpack 原始配置的上层抽象，使其可以定义具名的 loader 规则和具名插件，并有机会在后期进入这些规则并对它们的选项进行修改。 process.env.NODE_ENV === ‘production’ 环境不同的配置，这是官方的说明。<br>5.<a target="_blank" rel="noopener" href="https://github.com/neutrinojs/webpack-chain/issues/5">module.rule(…).loader(…).use is not a function</a><br>6.<a target="_blank" rel="noopener" href="https://joyran.github.io/yi-blog/blog/vue-markdown-loader.html">一个超简单的 vue-markdown-loader</a> 这里有rule的配置方法。</div>
<p>(3) Cannot set properties of undefined (setting ‘parent’)<br>我查看了错误代码,显示这个@import</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;style lang="less" scoped&gt;</span><br><span class="line">  @import "index";</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></tbody></table></figure>

<p>【解决方法】<br>我找到了相关的less配置</p>
<figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">:<span class="selector-tag">global</span> {</span><br><span class="line">    <span class="selector-class">.anticon-caret-up</span> {</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">@red-6</span>;</span><br><span class="line">    }</span><br><span class="line">    <span class="selector-class">.anticon-caret-down</span> {</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">@green-6</span>;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>修改为了,也就是去掉了global</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// :global {</span><br><span class="line">    .anticon-caret-up {</span><br><span class="line">        color: @red-6;</span><br><span class="line">    }</span><br><span class="line">    .anticon-caret-down {</span><br><span class="line">        color: @green-6;</span><br><span class="line">    }</span><br><span class="line">// }</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章：<br>1.<a target="_blank" rel="noopener" href="https://github.com/vueComponent/ant-design-vue-pro/issues/1372">开发环境报错TypeError: Cannot set properties of undefined</a> 注释 //@import “index”;<br>2.<a target="_blank" rel="noopener" href="https://github.com/vueComponent/ant-design-vue-pro/issues/1364">yarn run build 编译失败</a> 并没有注释，只是把 :global {} 去掉了。去掉后，也不会污染其他CSS，或者被其他CSS污染。。。这两个类只会在 .sub-total 内部生效。</div>
<p>(4) ./mode/swift/swift.js is not exported from package<br>这个问题出在 codemirror 这个模块中。我找到了这个文件 JCodeEditor.vue 文件，发现里面的代码引入如下,但是在codemirror这个库下面没有mode文件夹，难道是我安装错了吗？</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 需要引入具体的语法高亮库才会有对应的语法高亮效果</span></span><br><span class="line"><span class="comment">// codemirror 官方其实支持通过 /addon/mode/loadmode.js 和 /mode/meta.js 来实现动态加载对应语法高亮库</span></span><br><span class="line"><span class="comment">// 但 vue 貌似没有无法在实例初始化后再动态加载对应 JS ，所以此处才把对应的 JS 提前引入</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'codemirror/mode/javascript/javascript.js'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'codemirror/mode/css/css.js'</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'codemirror/mode/xml/xml.js'</span></span><br></pre></td></tr></tbody></table></figure>

<p>我发现最新的版本是 “codemirror”: “^6.0.1” 版本,但是老项目中使用的是5.46.0这个版本，这个版本的codemirror目录下，有mode文件夹。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"codemirror"</span>: <span class="string">"^5.46.0"</span>,</span><br></pre></td></tr></tbody></table></figure>

<p>(5) Failed to resolve loader: null-loader</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/null-loader">null-loader</a> One use for this loader is to silence modules imported by a dependency. Say, for example, your project relies on an ES6 library that imports a polyfill you don’t need, so removing it will cause no loss in functionality.</div>
<p>(6) Emitted value instead of an instance of Error</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://xie.infoq.cn/article/09333af7c0257564abed9fb63">前端开发：Vue 项目中解决 Emitted value instead of an instance of Error 问题</a></div>
<p>(6) vue__WEBPACK_IMPORTED_MODULE_3__.createVNode is not a function<br>打开浏览器控制台，出现了这个问题，错误的版本如下：</p>
<figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">"vue"</span><span class="punctuation">:</span> <span class="string">"^2.6.14"</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">"vuex"</span><span class="punctuation">:</span> <span class="string">"^4.1.0"</span><span class="punctuation">,</span></span><br></pre></td></tr></tbody></table></figure>

<p>【尝试方法】<br>就是找到和vue匹配的vuex版本。</p>
<figure class="highlight json"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">"vue"</span><span class="punctuation">:</span> <span class="string">"^2.6.14"</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">"vuex"</span><span class="punctuation">:</span> <span class="string">"3.1.0"</span><span class="punctuation">,</span></span><br></pre></td></tr></tbody></table></figure>

<p>后来我尝试把所有关于vue的插件的版本都降级，ant-design-vue、vue-i18n、vue-loader、vue-ls、vue-router ，还是会出现这个问题</p>
<p>【解决方法】<br>经过不断的尝试，删除修改插件的版本，最后 <a href="mailto:ant-design-vue@1.7.6">ant-design-vue@1.7.6</a>；”less”: “3.9.0”；”less-loader”: “4.1.0”，但是具体到底是哪一个插件导致的这个问题，我暂时还没有办法找到问题。</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/71656876/uncaught-typeerror-0-vue-webpack-imported-module-20-reactive-is-not-a-fu">Uncaught TypeError: (0 , vue__WEBPACK_IMPORTED_MODULE_20__.reactive) is not a function - in Vue 2</a> Your version of Vue is not compatible with your version of Vuex.<br>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_54353631/article/details/123598926">vue报错：Uncaught TypeError: (0 , vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent) is not a function</a> 卸载当前vue-router版本, 使用低版本<br>3.<a target="_blank" rel="noopener" href="https://github.com/ankurk91/vue-loading-overlay/issues/83">CreativeVNode Is not a function</a><br>4.<a target="_blank" rel="noopener" href="https://www.cxyzjd.com/article/qq_52855464/126255813">Uncaught TypeError: (0 , vue__WEBPACK_IMPORTED_MODULE_3__.createVNode) is not a function_</a> 这个是 ant-design-vue 的版本<br>5.<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44198965/article/details/125893059">Ant Design Vue - 适配 Vue2.x 版本的安装与环境搭建（默认 npm 安装的是适用于 Vue3.x 的版本）解决 Vue2.x 与最新 Ant Design vue 版本不符的问题</a> Vue2 需要与 1.x 的 Ant design vue 版本进行对应。<br>6.<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/54f99aec7931">vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent) is not a function</a> 一个defineCompenont函数没有定义</div>
<p>(7) Can’t resolve ‘@vue/babel-helper-vue-jsx-merge-props’</p>
<p>【解决方法】<br>重新安装这个插件就好了</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add @vue/babel-helper-vue-jsx-merge-props -D</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://www.npmjs.com/package/@vue/babel-helper-vue-jsx-merge-props">@vue/babel-helper-vue-jsx-merge-props</a></div>
<p>(8) BREAKING CHANGE: webpack &lt; 5 used to include polyfills for node.js core modules by default.This is no longer the case. Verify if you need this module and configure a polyfill for it.</p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/64557638/how-to-polyfill-node-core-modules-in-webpack-5">How to Polyfill node core modules in webpack 5</a></div>
<p>(9) Uncaught ReferenceError: can’t access lexical declaration ‘constantRouterMap’ before initialization<br>初始化前无法访问词法声明。 我查看了问题出现的代码，主要是 src/config/router.config.js 这个文件中的，</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 基础路由</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> {<span class="type"> *[] </span>}</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> constantRouterMap = [</span><br><span class="line">    ....</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>

<p>【解决方法】<br>就是将const改为var,看参考文章中的说明，就是说这里可能是出现了循环依赖的问题。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 基础路由</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type</span> {<span class="type"> *[] </span>}</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> constantRouterMap = [</span><br><span class="line">    ....</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://docs.w3cub.com/javascript/errors/cant_access_lexical_declaration_before_init.html">ReferenceError: can’t access lexical declaration ‘X’ before initialization</a><br>2.[Error “ReferenceError: can’t access lexical declaration `XXX’ before initialization” when loading a webpack-ed app](<a target="_blank" rel="noopener" href="https://github.com/webpack/webpack/issues/9173">https://github.com/webpack/webpack/issues/9173</a>) By using var instead of const you will receive undefined instead of the TDZ error. This probably lead to other issues. 将const替换为var<br>3.<a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/72081570/referenceerror-cant-access-lexical-declaration-foo-before-initialization">ReferenceError: can’t access lexical declaration ‘Foo’ before initialization</a> A simple way to understand why this error happens involves understanding hoisting. Before execution, an interpreter (like a browser engine) will move all variables and functions to the top of the file, likely for ease of access. But more modern instances of variables and functions, such as classes and function expressions, might get hoisted to the top but without being initialized. This is why that although the class is found, it has no proper value assigned to it, even if empty, thus an error occurs.</div>
<p>(10) Inline JavaScript is not enabled<br>这个问题主要是less-loader版本配置不一样导致的问题。</p>
<p>【解决方法】<br>“less”: “3.9.0”, “less-loader”: “4.1.0” 这个版本配置的vue.config.js如下：</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">css</span>: {</span><br><span class="line">    <span class="attr">loaderOptions</span>: {</span><br><span class="line">        <span class="attr">less</span>: {</span><br><span class="line">            <span class="attr">modifyVars</span>: {</span><br><span class="line">                <span class="comment">/* less 变量覆盖，用于自定义 ant design 主题 */</span></span><br><span class="line">                <span class="string">'primary-color'</span>: <span class="string">'#1890FF'</span>,</span><br><span class="line">                <span class="string">'link-color'</span>: <span class="string">'#1890FF'</span>,</span><br><span class="line">                <span class="string">'border-radius-base'</span>: <span class="string">'4px'</span></span><br><span class="line">            },</span><br><span class="line">            <span class="attr">javascriptEnabled</span>: <span class="literal">true</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure>

<p>最新的版本，比如13版本，vue.config.js 配置内容如下,多加了一个 lessOptions 配置</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">css</span>: {</span><br><span class="line">       <span class="attr">loaderOptions</span>: {</span><br><span class="line">           <span class="attr">less</span>: {</span><br><span class="line">               <span class="attr">lessOptions</span>: {</span><br><span class="line">                 <span class="attr">javascriptEnabled</span>: <span class="literal">true</span>,</span><br><span class="line">                 <span class="attr">modifyVars</span>: { <span class="string">'@primary-color'</span>: <span class="string">'#1DA57A'</span>,<span class="string">'link-color'</span>: <span class="string">'#1890FF'</span>, <span class="string">'border-radius-base'</span>: <span class="string">'4px'</span>},</span><br><span class="line">               },</span><br><span class="line">           }          </span><br><span class="line">       }</span><br><span class="line">   },</span><br></pre></td></tr></tbody></table></figure>


<p>(11) Cannot read properties of undefined (reading ‘compress’)<br>这是我在解决了上面的问题之后，在执行:pnpm build的时候出现的问题,看看配置文件，主要是下面的问题。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">configureWebpack</span>: <span class="function"><span class="params">config</span> =&gt;</span> {</span><br><span class="line">    <span class="comment">// 生产环境取消 console.log</span></span><br><span class="line">    <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">'production'</span>) {</span><br><span class="line">        config.<span class="property">optimization</span>.<span class="property">minimizer</span>[<span class="number">0</span>].<span class="property">options</span>.<span class="property">terserOptions</span>.<span class="property">compress</span>.<span class="property">drop_console</span> = <span class="literal">true</span></span><br><span class="line">    }</span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure>

<p>【解决方法】<br>将 configureWebpack 修改为插件的形式,这样就不会有问题了。</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span> = <span class="built_in">require</span>(<span class="string">'terser-webpack-plugin'</span>)</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = {</span><br><span class="line">    <span class="comment">// 如果你不需要生产环境的 source map，可以将其设置为 false 以加速生产环境构建。</span></span><br><span class="line">    <span class="attr">productionSourceMap</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="comment">// 生产环境取消 console.log</span></span><br><span class="line">    <span class="attr">configureWebpack</span>: {</span><br><span class="line">        <span class="attr">optimization</span>: {</span><br><span class="line">            <span class="attr">minimizer</span>: [<span class="keyword">new</span> <span class="title class_">TerserPlugin</span>({ <span class="attr">terserOptions</span>: { <span class="attr">compress</span>: { <span class="attr">drop_console</span>: <span class="literal">true</span> } } })]</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>或者是修改为如下的内容，这样就可以根据不同的环境进行console.log的输出了</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">configureWebpack</span>: <span class="function"><span class="params">config</span> =&gt;</span> {</span><br><span class="line">    <span class="comment">// 生产环境取消 console.log</span></span><br><span class="line">    <span class="keyword">if</span> (process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">'production'</span>) {</span><br><span class="line">        config.<span class="property">optimization</span>.<span class="property">minimizer</span>[<span class="number">0</span>].<span class="property">options</span>.<span class="property">minimizer</span>.<span class="property">options</span>.<span class="property">compress</span>.<span class="property">drop_console</span> = <span class="literal">true</span></span><br><span class="line">    }</span><br><span class="line">},</span><br></pre></td></tr></tbody></table></figure>

<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://github.com/rkusa/pdfjs/issues/265">Cannot read property ‘compressed’ of undefined</a><br>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/meifannao789456/article/details/109306282">Vue配置vue.config.js打包时删除console.log日志</a> 1.如果需要根据打包环境来判断是否需要删除；2. 通过配置configureWebpack的方式；<br>3.<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44875693/article/details/124706142">vue.config.js配置打包删除console和debugger</a><br>4.<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-cli/issues/3088">如何在vue.config.js中配置vue-cli3.0打包之后不显示console</a> 如果用 chainWebpack 改配置的话注意我们考虑到兼容性的原因还没有升级 webpack-chain v5，v4 和 v5 唯一的区别就是改 minimizer 的方法。这里还有 configureWebpack: config =&gt; { if (process.env.NODE_ENV === ‘production’) { config.optimization.minimizer[0].options.terserOptions.compress[‘drop_console’] = true } } 这种方法，但是我的里面用不上。<br>5.<a target="_blank" rel="noopener" href="https://webpack.js.org/plugins/terser-webpack-plugin/">TerserWebpackPlugin</a></div>
<p>(12) 中文乱码<br>在经历了无数的磨难之后，终于算是启动了前端和后端，可是还有一个问题，就是中文乱码的问题。</p>
<img src="/images/loadimg.png" data-original="/posts/6e33cf47/erp_1.jpg" lay-src="/posts/6e33cf47/erp_1.jpg" class="" title="华夏ERP">

<p>【解决方法】<br>这个主要是在导入数据库的时候的问题，具体方法，可以参考<a href="#">Post not found: DBeaver数据库管理工具 DBeaver数据库管理工具</a></p>
<p>(13)  Error in callback for watcher “activePage”: “TypeError: can’t access property “catch”, originalPush.call(…) is undefined<br>在浏览器上显示这个错误：TypeError: can’t access property “catch”, originalPush.call(…) is undefined,定位到 src/router/index.js 文件，</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">'vue'</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Router</span> <span class="keyword">from</span> <span class="string">'vue-router'</span></span><br><span class="line"><span class="keyword">import</span> { constantRouterMap } <span class="keyword">from</span> <span class="string">'@/config/router.config'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//update-begin-author:taoyan date:20191011 for:TASK #3214 【优化】访问online功能测试 浏览器控制台抛出异常</span></span><br><span class="line"><span class="keyword">try</span> {</span><br><span class="line">  <span class="keyword">const</span> originalPush = <span class="title class_">Router</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span></span><br><span class="line">  <span class="title class_">Router</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">push</span> = <span class="keyword">function</span> <span class="title function_">push</span>(<span class="params">location</span>) {</span><br><span class="line">    <span class="keyword">return</span> originalPush.<span class="title function_">call</span>(<span class="variable language_">this</span>, location).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> err)</span><br><span class="line">  }</span><br><span class="line">} <span class="keyword">catch</span> (e) {</span><br><span class="line">}</span><br><span class="line"><span class="comment">//update-end-author:taoyan date:20191011 for:TASK #3214 【优化】访问online功能测试 浏览器控制台抛出异常</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Router</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Router</span>({</span><br><span class="line">  <span class="attr">mode</span>: <span class="string">'history'</span>,</span><br><span class="line">  <span class="attr">base</span>: process.<span class="property">env</span>.<span class="property">BASE_URL</span>,</span><br><span class="line">  <span class="attr">scrollBehavior</span>: <span class="function">() =&gt;</span> ({ <span class="attr">y</span>: <span class="number">0</span> }),</span><br><span class="line">  <span class="attr">routes</span>: constantRouterMap</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<p>【解决方法】<br>在vue-router在3.1.0版本之后，push和replace方法会返回一个promise对象，如果跳转到相同的路由，就报promise uncaught异常,我通过安装高版本的vue-router解决了这个问题。</p>
<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 卸载</span></span><br><span class="line">pnpm remove vue-router</span><br><span class="line"><span class="comment">## 安装</span></span><br><span class="line">pnpm add vue-router@3.6.5</span><br></pre></td></tr></tbody></table></figure>

<p><strong>注意：要新启动server，这个比较重要</strong></p>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_20834787/article/details/79946863">关于js的call方法的返回值问题</a><br>2.<a target="_blank" rel="noopener" href="https://blog.csdn.net/u013595395/article/details/102912835">vue-router重写push方法，解决相同路径跳转报错</a> 这里就是上面的代码，基本上一致<br>3.<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/fe1504b07e43">const originalPush = VueRouter.prototype.push // 重写了原型上的push方法，统一的处理了错误信息 VueRouter.prototype.pus…</a> 在vue项目中，如果使用$router.push跳转到一个相同的路由，就会遇到以下错误。方案01-降版本;方案2-使用catch捕获异常;方案3-修改push方法<br>4.<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45646663/article/details/126884929">vue-router重写Router.prototype.push，解决相同路径跳转的报错问题</a> 在router的index.js里面写，在use之前，如果加上以下代码，报错‘Cannot read properties of undefined (reading ‘catch’) at VueRouter.push ’那就是vue-router的版本问题，安装高一点的版本即可3.1.6以上</div>
<p>(14) Public Key Retrieval is not allowed<br>这里的主要场景就是：禁用 SSL/TLS 协议传输切当前用户在服务器端没有登录缓存的情况下，客户端没有办法拿到服务器的公钥。</p>
<p>【解决方法】</p>
<ul>
<li>1.在 JDBC 连接串中加入 allowPublicKeyRetrieval=true 参数；</li>
<li>2.在 CLI 客户端连接时加入–get-server-public-key 参数；</li>
<li>3.在 CLI 客户端连接时加入–server-public-key-path=file_name 参数，指定存放在本地的公钥文件。</li>
</ul>
<div class="reference">参考文章:<br>1.<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_55599565/article/details/125140094">Public Key Retrieval is not allowed解决</a> 在 JDBC 连接串中加入 allowPublicKeyRetrieval=true 参数</div></body></html>
              </div>
            </div>
          </div>
          <div class='post-footer'>
            <div>**本文已结束，感谢您的观看**</div>
            <div class="btn btn-pay">鼓励一下</div>
          </div>
          
            <div class="page">
              
              <section class="past-wrap">
                <section class="past">
                <p>往期推荐</p>
                </section>
              </section>
              <div class="post-nav">
                <div class="post-nav-next post-nav-item">
                  
                    <a href="/posts/88da767c.html" rel="next" title="软件研究之管家婆">
                      <i class="iconfont icon-prev"></i> 软件研究之管家婆
                    </a>
                  
                </div>

                <span class="post-nav-divider"></span>

                <div class="post-nav-prev post-nav-item">
                  
                    <a href="/posts/77b3ef8.html" rel="prev" title="软件研究之AFTArrow">
                      软件研究之AFTArrow <i class="iconfont icon-next"></i>
                    </a>
                  
                </div>
              </div>
            </div>
          
          
 <div class="comments" id="comments">
    <div id="disqus_thread">
        <noscript>
            不支持Javascript,那你还上啥网啊。
            <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript"></a>
        </noscript>
    </div>
</div>

      </div>
    </div>


    <div class="layui-col-md2 layui-col-lg2 layui-col-sm10 layui-col-xs12 catalogue-wrap">
        

<div class="catalogue-content">
    <div class="title">文章目录</div>
    <div class="toc-content">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">1.前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E4%BF%AE%E6%94%B9package-json"><span class="toc-number">2.</span> <span class="toc-text">2.修改package.json</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6vue-config-js"><span class="toc-number">3.</span> <span class="toc-text">3.配置文件vue.config.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E4%BF%AE%E6%94%B9%E6%A0%B7%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">4.修改样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%BF%AE%E6%94%B9%E8%B7%AF%E7%94%B1%E9%85%8D%E7%BD%AE"><span class="toc-number">5.</span> <span class="toc-text">5.修改路由配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">6.</span> <span class="toc-text">6.导入数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E4%BF%AE%E6%94%B9mysql%E4%BE%9D%E8%B5%96"><span class="toc-number">7.</span> <span class="toc-text">7.修改mysql依赖</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="toc-number">8.</span> <span class="toc-text">8.修改数据库配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E9%85%8D%E7%BD%AEnginx"><span class="toc-number">9.</span> <span class="toc-text">9.配置nginx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E8%87%AA%E5%8A%A8%E5%8C%96%E8%84%9A%E6%9C%AC"><span class="toc-number">10.</span> <span class="toc-text">10.自动化脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AE%E9%A2%98"><span class="toc-number">11.</span> <span class="toc-text">问题</span></a></li></ol>
    </div>
</div>


        <div class="sidecontent">

    

    <div class="side-panel side-sponsor">
        <div class="side-title one">小额赞助</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">本人提供免费与付费咨询服务，感谢您的支持！赞助请发邮件通知，方便公布您的善意！</div>
                <div class="content">
                    <img src="/images/pay.png" title="小额赞助"/>
                </div>
                
                
                <div class="donor_content">
                    
                        
                        <div class="donor-item">
                            <span class="name">**光</span>
                            <span class="money">3.01 元</span>
                        </div>
                    
                        
                        <div class="donor-item">
                            <span class="name">Sun</span>
                            <span class="money">3.00 元</span>
                        </div>
                    
                        
                        <div class="donor-item">
                            <span class="name">bibichuan</span>
                            <span class="money">3.00 元</span>
                        </div>
                    
                    <div class="donor_footer">
                        <span>捐赠者名单</span>
                        <span class="total">合计：9.01 元</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="side-ad side-panel">
        <div class="side-title two">微信公众号</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <img src="/images/wechat.png" title="公众号"/>
            </div>
        </div>
    </div>

    <div class="side-ad side-panel">
        <div class="side-title one">广告位</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">诚心邀请广大金主爸爸洽谈合作</div>
                <div class="detail">
                </div>
            </div>
        </div>
    </div>

    <div class="side-ask side-panel">
        
        <div class="side-title two">每日一省</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">isNaN 和 Number.isNaN 函数的区别？</div>
                <div class="detail">
                    
                        <p>1.函数 isNaN 接收参数后，会尝试将这个参数转换为数值，任何不能被转换为数值的的值都会返回 true，因此非数字值传入也会返回 true ，会影响 NaN 的判断。</p>
                    
                        <p>2.函数 Number.isNaN 会首先判断传入参数是否为数字，如果是数字再继续判断是否为 NaN ，不会进行数据类型的转换，这种方法对于 NaN 的判断更为准确。</p>
                    
                </div>
            </div>
            <div class="side-footer">
                <span class="side-footer-item time">2021-04-07</span>
                
                    <span class="side-footer-item side-button down" title="查看答案">
                        <i class="iconfont icon-expansion"></i>
                    </span>
                
                
                    <a class="side-footer-item side-button answer-url" href="https://juejin.cn/post/6940945178899251230"
                    target="_blank">链接地址</a>
                
            </div>
        </div>
    </div>
    <div class="side-ask side-panel">
        
        <div class="side-title three">每日二省</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">为什么0.1+0.2 ! == 0.3，如何让其相等?</div>
                <div class="detail">
                     
                        <p>一个直接的解决方法就是设置一个误差范围，通常称为“机器精度”。对JavaScript来说，这个值通常为2-52，在ES6中，提供了Number.EPSILON属性，而它的值就是2-52，只要判断0.1+0.2-0.3是否小于Number.EPSILON，如果小于，就可以判断为0.1+0.2 ===0.3。</p>
                    
                </div>
            </div>
            <div class="side-footer">
                <span class="side-footer-item time">2021-04-07</span>
                
                    <span class="side-footer-item side-button down" title="查看答案">
                        <i class="iconfont icon-expansion"></i>
                    </span>
                
                
                    <a class="side-footer-item side-button answer-url" href="https://juejin.cn/post/6940945178899251230#heading-8"
                    target="_blank">链接地址</a>
                
            </div>
        </div>
    </div>
    <div class="side-ask side-panel">
        
        <div class="side-title three">每日三省</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">== 操作符的强制类型转换规则？</div>
                <div class="detail">
                     
                        <p>1.首先会判断两者类型是否**相同，**相同的话就比较两者的大小。</p>
                    
                        <p>2.类型不相同的话，就会进行类型转换。</p>
                    
                        <p>3.会先判断是否在对比 null 和 undefined，是的话就会返回 true。</p>
                    
                        <p>4.判断两者类型是否为 string 和 number，是的话就会将字符串转换为 number。</p>
                    
                        <p>5.判断其中一方是否为 boolean，是的话就会把 boolean 转为 number 再进行判断。</p>
                    
                        <p>6.判断其中一方是否为 object 且另一方为 string、number 或者 symbol，是的话就会把 object 转为原始类型再进行判断。</p>
                    
                </div>
            </div>
            <div class="side-footer">
                <span class="side-footer-item time">2021-04-07</span>
                
                    <span class="side-footer-item side-button down" title="查看答案">
                        <i class="iconfont icon-expansion"></i>
                    </span>
                
                
                    <a class="side-footer-item side-button answer-url" href="https://juejin.cn/post/6940945178899251230#heading-12"
                    target="_blank">链接地址</a>
                
            </div>
        </div>
    </div>
    <div class="side-ask side-panel">
        
        <div class="side-title two">每日英语</div>
        <div class="side-content-wrap">
            <div class="side-content">
                <div class="heading">Happiness is time precipitation, smile is the lonely sad.</div>
                <div class="detail">幸福是年华的沉淀，微笑是寂寞的悲伤。</div>
            </div>
            <div class="side-footer">
                <span class="side-footer-item time">2016</span>
                
                    <span class="side-footer-item side-button down" title="查看翻译">
                        <i class="iconfont icon-expansion"></i>
                    </span>
                
                <span class="side-footer-item author">——— 美文</span>
            </div>
        </div>
    </div>

</div>
    </div>

  </div>
  <div class="side-tool">
    <div class="side-icon-wrap">
        <i class="iconfont icon-sidemenu"></i>
    </div>
    <ul class="side-tool-content">
        <li title="回到顶部" class="back-to-top side-tool-item">
            <a class="function-button"><i class="iconfont icon-backtop"></i></a>
        </li> 
        <li title="分享文章" class="side-share side-tool-item">
            <a class="function-button"><i class="iconfont icon-share"></i></a>
            <div class="iShare iShare-content"></div>
        </li>
        <li title="喜欢文章" class="side-like side-tool-item">
            <a class="function-button"><i class="iconfont icon-like"></i></a>
        </li>
         <li class="side-close" title="关闭侧边栏">
            <a class="function-button"><i class="iconfont icon-close"></i></a>
        </li>
    </ul>
</div>

      </div>
    </main>   
    
    <footer id="footer" class="footer layui-fluid">
      <div class="layui-row">
        <div class="container footer-inner">
          <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="footer-col">
  <div>温馨提示</div>
  <div><a href="/about" target="_self">关于作者</a></div>
  <div><a href="/archives">博客归档</a></div>
  <div>
    <span id="busuanzi_container_site_uv">
      访客数<span id="busuanzi_value_site_uv"></span>人次
    </span>
  </div>
</div>
<div class="footer-col">
  <div>友情链接</div>
  
  
  
  
    
        <div><a href="https://malagis.com" target="_blank">麻辣GIS</a></div>
    
  
    
        <div><a href="https://www.giserdqy.com" target="_blank">GIS开发者</a></div>
    
  
    
        <div><a href="https://earth.nullschool.net/zh-cn/" target="_blank">earth.nullschool</a></div>
    
  
    
        <div><a href="https://www.gisclouder.com/" target="_blank">码上GIS实现的热力图</a></div>
    
  
    
        <div><a href="http://www.cnblogs.com/naaoveGIS/" target="_blank">李晓辉的博客园</a></div>
    
  
    
        
          <div><a href="/links">更多</a></div>
          
        
    
  
    
        
    
  
    
        
    
  
    
        
    
  
  <div class="chain-msg">**注意：以上网站都没给钱**</div>
</div>
<div class="footer-col">
  <div>精彩推荐</div>
  
    <div><a href="/study">励志</a></div>
  
    <div><a href="/anime">动漫</a></div>
  
    <div><a href="/movie">电影</a></div>
  
    <div><a href="/tv">电视</a></div>
  
    <div><a href="/book">书籍</a></div>
  
</div>
<div class="footer-col">
  <div>开源项目</div>
  
    <div><a href="/"></a></div>
  
</div>
          
        </div>
      </div>
    </footer>

    


<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>

    
        
            
            
            <script type="text/javascript" src="/lib/layui/layui.js"></script>
        
    
        
    

    
        
            
            
                
            
            <script type="text/javascript" src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
        
    

    
        
            
            
            <script type="text/javascript" src="/lib/jquery.actual.min.js"></script>
        
    


    


  <script type="text/javascript" src="/js/src/utils.js?v="></script>



    
      <script type="text/javascript" src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearchLite.min.js"></script>
<script type="text/javascript">
  var client = algoliasearch('DM9LMZOGZE', '1c2739694b8acb4c4edab8ccb098d166');
  var index = client.initIndex('bibichuan');
  $(document).ready(function(){
    var $search=$(".header-wrap");
    var $searchbtn= $search.find(".find");
    var $ipt=$search.find(".search-ipt");
    var $resultClear=$search.find(".clear");
    var $result=$search.find(".result");
    // 加入layui
    layui.use('layer', function(){
      var layer = layui.layer;
      // 搜索按钮点击
      $searchbtn.on("click",function(){
        var text=$ipt.val();
        var $this=$(this);
        var $resultContent=$result.find(".result-content");
        if(text){
          var loadDialog=layer.load();
          if(!$this.hasClass("disabled")){
            $this.addClass("disabled");
            index.search(text, (err, { hits } = {}) => {
              layer.close(loadDialog); 

              $this.removeClass("disabled");
              var resultHtml="";
              // 命中
              if(hits.length>0){
                var count=hits.length;
                for(var i=0;i<count;i++){
                  var h=hits[i];
                  //根据返回值中_highlightResult来判断显示的内容。
                  var content=h.contentStripTruncate;
                  var _highlight=h._highlightResult;

                  var resultC="";
                  var hitType=""; // 命中的类型
                  //标题命中
                  if(_highlight.title&&!resultC){  
                    if(_highlight.title.matchLevel&&_highlight.title.matchLevel!='none'){
                      resultC=_highlight.title.value;
                      hitType="title";
                    }
                  }
                  //分类命中
                  if(_highlight.categories&&!resultC){ 
                    var arr=_highlight.categories;
                    if(arr instanceof Array){
                      var countTemp=arr.length;
                      for(var j=0;j<countTemp;j++){
                        var temp=arr[j];
                        if(temp.matchLevel&&temp.matchLevel!='none'){
                          resultC=temp.value;
                          hitType="categories";
                        }
                      }
                    }else{
                      if(arr.matchLevel&&arr.matchLevel!='none'){
                        resultC=arr.value;
                        hitType="categories";
                      }
                    }
                  }

                  //标签命中
                  if(_highlight.tags&&!resultC){ 
                    var arr=_highlight.tags;
                    if(arr instanceof Array){
                      var countTemp=arr.length;
                      for(var j=0;j<countTemp;j++){
                        var temp=arr[j];
                        if(temp.matchLevel&&temp.matchLevel!='none'){
                          resultC=temp.value;
                          hitType="tags";
                        }
                      }
                    }else{
                      if(arr.matchLevel&&arr.matchLevel!='none'){
                        resultC=arr.value;
                        hitType="tags";
                      }
                    }
                  }

                  // 内容命中
                  if(!resultC){ 
                    resultC=_highlight.contentStripTruncate.value;
                    hitType="contentStripTruncate";
                  }

                  //如果内容过长，则截断
                  if(resultC.length>50){
                    var index=resultC.indexOf('<em>');
                    var blockIndex=10;
                    if(index>=blockIndex){
                      index=index-blockIndex;
                    }else{
                      index=0;
                    }
                    resultC="..."+resultC.substring(index,index+20+blockIndex)+"...";
                  }
                  switch(hitType){
                    case "title":
                      resultC="标题："+resultC;
                      break;
                    case "categories":
                      resultC="分类："+resultC;
                      resultC+=" ("+h.contentStripTruncate.substring(0,40)+"...)";
                      break;
                    case "tags":
                      resultC="标签："+resultC;
                      resultC+=" ("+h.contentStripTruncate.substring(0,40)+"...)";
                      break;
                    case "contentStripTruncate":
                      resultC="内容："+resultC;
                      break;
                  }

                  resultHtml+='<li class="result-item" title="'+content+'"><a href="'+h.permalink+'">'+resultC+'</a></li>';
                }
                $(resultHtml).appendTo($resultContent.empty());
                $result.show();
                $resultClear.show();
              }else{
                var resultHtml='<li class="result-item" title="未找到相关内容"><a>未找到相关内容</a></li>';
                $(resultHtml).appendTo($resultContent.empty());
                $result.show();
                $resultClear.show();
              }
            });
          }
        }else{
          layer.msg("请输入搜索内容");
        }
      });
      // 删除输入内容
      $resultClear.on("click",function(){
        $result.hide();
        $resultClear.hide();
        //清空输入内容
        $ipt.val("");
      });
      // 监听确定事件
      $ipt.keydown(function(e){
        if(e.keyCode==13){
          $searchbtn.click();
        }
      });
    });              
  
  });
</script>
    

    
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.6/dist/jquery.fancybox.min.js"></script>
<script src="/js/src/post/post.js">></script>

  

  <script type="text/javascript">
    var disqus_config = function () {
      this.page.url = 'https://bibichuan.github.io/posts/6e33cf47.html';
      this.page.identifier = 'posts/6e33cf47.html';
      this.page.title = '软件研究之华夏ERP';
      };
    // 加载评论内容
    function loadComments () {
      var d = document, s = d.createElement('script');
      s.src = 'https://https-bibichuan-github-io.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);

      // 隐藏相关文章
      s.onload = function () {
        var relatedCommon=$('#comments #disqus_recommendations');
        if(relatedCommon){
          relatedCommon.hide();
        }

      }
    }
    function scrollFunction(){
      // offsetTop may changes because of manually resizing browser window or lazy loading images.
          var offsetTop = $('#comments').offset().top - $(window).height();
          var scrollTop = $(window).scrollTop();

          // pre-load comments a bit? (margin or anything else)
          if (offsetTop - scrollTop < 60) {
            $(window).off('scroll',scrollFunction);
            loadComments();
          }
    }
    $(function () {
      if($("#comments").length<=0){
        return;
      }
      var offsetTop = $('#comments').offset().top - $(window).height();
      if (offsetTop <= 0) {
        // load directly when there's no a scrollbar
        loadComments();
      } else {
        $(window).on('scroll', scrollFunction);
      }
    });
  </script>



<script src="/lib/share/iShare.js"></script>
<script type="text/javascript">
var iSharel=(new iShare({container:'.iShare-content',config:{
		title: '这里有精彩的内容，你确定不过来看看吗？链接标题：软件研究之华夏ERP 链接地址:https://bibichuan.github.io/posts/6e33cf47.html  |(复制此地址在浏览器中打开)——bibichaun出品。',
		description: '软件研究之华夏ERP',
		url: 'https://bibichuan.github.io/posts/6e33cf47.html',
		isAbroad: false,
		isTitle: true,
		initialized: true,
		WXoptions:{
			evenType: 'click',
			isTitleVisibility: true,
			title: '软件研究之华夏ERP',
			isTipVisibility: true,
			tip: '软件研究之华夏ERP',
			qrcodeW: '120',
			qrcodeH: '120',
			qrcodeFgc: '#4a148c',
      bgcolor: '#2BAD13'
		}
	}}));
</script>


</body>
</html>